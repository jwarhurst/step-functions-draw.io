/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/css-loader/dist/cjs.js?!./src/style.css":
/*!***********************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--5-1!./src/style.css ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \"/* dark styling of the editor */\\r\\ndiv.jsoneditor,\\r\\ndiv.jsoneditor-menu {\\r\\n  border-color: #9c9c9c;\\r\\n}\\r\\ndiv.jsoneditor-menu {\\r\\n  background-color: #9c9c9c;\\r\\n}\\r\\n\\r\\n/* coloring of modal */\\r\\ndiv.jsoneditor-modal .pico-modal-header {\\r\\n  background-color: #9c9c9c;\\r\\n}\\r\\ndiv.jsoneditor-modal .jsoneditor-jmespath-label {\\r\\n  color: black;\\r\\n}\\r\\ndiv.jsoneditor-modal .jsoneditor-button-group.jsoneditor-button-group-value-asc input.jsoneditor-button-asc,\\r\\ndiv.jsoneditor-modal .jsoneditor-button-group.jsoneditor-button-group-value-desc input.jsoneditor-button-desc{\\r\\n  background-color: #357ae8;\\r\\n  background-image: linear-gradient(#4d90fe 0px,#357ae8 100%);\\r\\n  border: 1px solid #2f5bb7;\\r\\n  color: #fff;\\r\\n}\\r\\n\\r\\ndiv#jsoneditor.parameters {\\r\\n  height: 200px;\\r\\n  width: 100%;\\r\\n  overflow: auto;\\r\\n  resize: vertical;\\r\\n  padding: 0px 0px 10px 0px;\\r\\n}\\r\\n\\r\\ndiv#jsoneditor.results-selector {\\r\\n  height: 200px;\\r\\n  width: 100%;\\r\\n  overflow: auto;\\r\\n  resize: vertical;\\r\\n  padding: 0px 0px 10px 0px;\\r\\n}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack:///./src/style.css?./node_modules/css-loader/dist/cjs.js??ref--5-1");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}\n\n//# sourceURL=webpack:///./node_modules/css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./src/extend.ts":
/*!***********************!*\
  !*** ./src/extend.ts ***!
  \***********************/
/*! exports provided: setupMisc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupMisc\", function() { return setupMisc; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n\r\nconst mxGraphCreateEdge = mxGraph.prototype.createEdge;\r\nmxGraph.prototype.createEdge = function (parent, id, value, source, target, style) {\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isAWSsf\"](source) && source.awssf.createDefaultEdge) {\r\n        return source.awssf.createDefaultEdge(source);\r\n    }\r\n    else {\r\n        return mxGraphCreateEdge.apply(this, arguments);\r\n    }\r\n};\r\nconst mxConnectionHandlerCreateEdgeState = mxConnectionHandler.prototype.createEdgeState;\r\nmxConnectionHandler.prototype.createEdgeState = function (me) {\r\n    var cell = this.previous.cell;\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isAWSsf\"](cell) && cell.awssf.createDefaultEdge) {\r\n        var edge = cell.awssf.createDefaultEdge(cell);\r\n        if (!edge)\r\n            return null;\r\n        return new mxCellState(this.graph.view, edge, this.graph.getCellStyle(edge));\r\n    }\r\n    else {\r\n        return mxConnectionHandlerCreateEdgeState.apply(this, arguments);\r\n    }\r\n};\r\nconst mxConnectionHandlerInsertEdge = mxConnectionHandler.prototype.insertEdge;\r\nmxConnectionHandler.prototype.insertEdge = function (parent, id, value, source, target, style) {\r\n    var edge = null;\r\n    if (!_utils__WEBPACK_IMPORTED_MODULE_0__[\"isAWSsf\"](source)) {\r\n        return mxConnectionHandlerInsertEdge.apply(this, arguments);\r\n    }\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isParallelChild\"](source) || _utils__WEBPACK_IMPORTED_MODULE_0__[\"isParallelChild\"](target)) {\r\n        if (source.parent != target.parent)\r\n            return null;\r\n    }\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isMapChild\"](source) || _utils__WEBPACK_IMPORTED_MODULE_0__[\"isMapChild\"](target)) {\r\n        if (source.parent != target.parent)\r\n            return null;\r\n    }\r\n    if ((source == target) && (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isTask\"](source) || _utils__WEBPACK_IMPORTED_MODULE_0__[\"isParallel\"](source) || _utils__WEBPACK_IMPORTED_MODULE_0__[\"isMap\"](source))) {\r\n        edge = RetryEdge.prototype.create();\r\n    }\r\n    else if (this.edgeState) {\r\n        edge = this.edgeState.cell;\r\n    }\r\n    else if (source.awssf && source.awssf.createDefaultEdge) {\r\n        edge = source.awssf.createDefaultEdge(source);\r\n    }\r\n    else {\r\n        return null; // cancel\r\n    }\r\n    if (edge != null) {\r\n        edge = this.graph.addEdge(edge, parent, source, target);\r\n        return edge;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\nfunction setupGraphCreateHandler(ui) {\r\n    const origGraphCreateHander = ui.editor.graph.createHandler;\r\n    function awssfCreateHandler(state) {\r\n        if (state != null && (this.getSelectionCells().length == 1) && _utils__WEBPACK_IMPORTED_MODULE_0__[\"isAWSsf\"](state.cell) && state.cell.awssf.handler) {\r\n            return new state.cell.awssf.handler(state);\r\n        }\r\n        return origGraphCreateHander.apply(this, arguments);\r\n    }\r\n    ui.editor.graph.createHandler = awssfCreateHandler;\r\n}\r\nfunction setupCellAdded(ui) {\r\n    const mxGraphModelCellAdded = ui.editor.graph.getModel().cellAdded;\r\n    function awssfCellAdded(cell) {\r\n        if (!_utils__WEBPACK_IMPORTED_MODULE_0__[\"isAWSsf\"](cell)) {\r\n            return mxGraphModelCellAdded.apply(this, arguments);\r\n        }\r\n        var names = {};\r\n        for (const i in this.cells) {\r\n            const a = this.cells[i];\r\n            if (a.isVertex() && a.getAttribute(\"label\")) {\r\n                var _label = a.getAttribute(\"label\");\r\n                if (names[_label]) {\r\n                    names[_label].push(a);\r\n                }\r\n                else {\r\n                    names[_label] = [a];\r\n                }\r\n            }\r\n        }\r\n        var label = cell.getAttribute(\"label\");\r\n        if (cell.isVertex() && names[label]) {\r\n            if (!_utils__WEBPACK_IMPORTED_MODULE_0__[\"isStart\"](cell) && !_utils__WEBPACK_IMPORTED_MODULE_0__[\"isEnd\"](cell)) {\r\n                var index = 2;\r\n                var newLabel = label.replace(/(\\d*)$/, index);\r\n                while (names[newLabel]) {\r\n                    index++;\r\n                    newLabel = label.replace(/(\\d*)$/, index);\r\n                }\r\n                cell.setAttribute(\"label\", newLabel);\r\n            }\r\n        }\r\n        _utils__WEBPACK_IMPORTED_MODULE_0__[\"setupRoot\"]();\r\n        return mxGraphModelCellAdded.apply(this, arguments);\r\n    }\r\n    ui.editor.graph.getModel().cellAdded = awssfCellAdded;\r\n}\r\nfunction setupMisc(ui) {\r\n    setupGraphCreateHandler(ui);\r\n    setupCellAdded(ui);\r\n}\r\n\n\n//# sourceURL=webpack:///./src/extend.ts?");

/***/ }),

/***/ "./src/form/dialog.ts":
/*!****************************!*\
  !*** ./src/form/dialog.ts ***!
  \****************************/
/*! exports provided: awssfImportDialog, awssfDeployDialog, awssfExportDialog */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"awssfImportDialog\", function() { return awssfImportDialog; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"awssfDeployDialog\", function() { return awssfDeployDialog; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"awssfExportDialog\", function() { return awssfExportDialog; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n\r\nconst awssfImportDialog = function (editorUi, title) {\r\n    const graph = editorUi.editor.graph;\r\n    function recurseStates(states) {\r\n        const res = { hash: {}, list: [] };\r\n        let cell;\r\n        for (const name in states) {\r\n            const body = states[name];\r\n            if (body.Type === \"Pass\") {\r\n                cell = PassState.prototype.create(name, body);\r\n            }\r\n            else if (body.Type === \"Task\") {\r\n                cell = TaskState.prototype.create(name, body);\r\n            }\r\n            else if (body.Type === \"Choice\") {\r\n                cell = ChoiceState.prototype.create(name, body);\r\n            }\r\n            else if (body.Type === \"Wait\") {\r\n                cell = WaitState.prototype.create(name, body);\r\n            }\r\n            else if (body.Type === \"Succeed\") {\r\n                cell = SucceedState.prototype.create(name, body);\r\n            }\r\n            else if (body.Type === \"Fail\") {\r\n                cell = FailState.prototype.create(name, body);\r\n            }\r\n            else if (body.Type === \"Parallel\") {\r\n                cell = ParallelState.prototype.create(name, body);\r\n                for (const branch in body.Branches) {\r\n                    const _sub = recurseStates(body.Branches[branch].States);\r\n                    for (const _cell of _sub.list)\r\n                        cell.insert(_cell);\r\n                    Object.assign(res.hash, _sub.hash);\r\n                }\r\n            }\r\n            else if (body.Type === \"Map\") {\r\n                cell = MapState.prototype.create(name, body);\r\n                const _sub = recurseStates(body.Iterator.States);\r\n                for (const _cell of _sub.list)\r\n                    cell.insert(_cell);\r\n                Object.assign(res.hash, _sub.hash);\r\n            }\r\n            res.hash[name] = cell;\r\n            res.list.push(cell);\r\n        }\r\n        return res;\r\n    }\r\n    function recurseEdges(json, vertexes, sp, ep) {\r\n        var res = [];\r\n        var edge;\r\n        if (json.StartAt && sp) {\r\n            edge = StartAtEdge.prototype.create();\r\n            edge.source = sp;\r\n            edge.target = vertexes[json.StartAt];\r\n            res.push(edge);\r\n        }\r\n        for (var name in json.States) {\r\n            var body = json.States[name];\r\n            if (body.Default && vertexes[body.Default]) {\r\n                edge = DefaultEdge.prototype.create('Default', vertexes[name], vertexes[body.Default]);\r\n                res.push(edge);\r\n            }\r\n            if (body.Next && vertexes[body.Next]) {\r\n                edge = NextEdge.prototype.create('Next', vertexes[name], vertexes[body.Next]);\r\n                res.push(edge);\r\n            }\r\n            if (body.End || (body.Type && body.Type.match(/(Succeed|Fail)/))) {\r\n                if (ep) {\r\n                    edge = NextEdge.prototype.create('Next', vertexes[name], ep);\r\n                    res.push(edge);\r\n                }\r\n            }\r\n            if (body.Retry) {\r\n                for (const r in body.Retry) {\r\n                    edge = RetryEdge.prototype.create('Retry', vertexes[name], body.Retry[r], body.Retry.length - Number(r));\r\n                    res.push(edge);\r\n                }\r\n            }\r\n            if (body.Catch && body.Catch.length > 0) {\r\n                for (const i in body.Catch) {\r\n                    edge = CatchEdge.prototype.create('Catch', vertexes[name], vertexes[body.Catch[i].Next], body.Catch[i], body.Catch.length - Number(i));\r\n                    res.push(edge);\r\n                }\r\n            }\r\n            if (body.Choices && body.Choices.length > 0) {\r\n                for (const i in body.Choices) {\r\n                    edge = ChoiceEdge.prototype.create('Choice', vertexes[name], vertexes[body.Choices[i].Next], body.Choices[i], body.Choices.length - Number(i));\r\n                    res.push(edge);\r\n                }\r\n            }\r\n            if (body.Type === \"Parallel\") {\r\n                for (const branch of body.Branches) {\r\n                    const _sp = vertexes[name].getChildAt(0);\r\n                    const tmp = recurseEdges(branch, vertexes, _sp);\r\n                    tmp.map(v => vertexes[name].insert(v));\r\n                }\r\n            }\r\n            if (body.Type === \"Map\") {\r\n                const _sp = vertexes[name].getChildAt(0);\r\n                const tmp = recurseEdges(body.Iterator, vertexes, _sp);\r\n                tmp.map(v => vertexes[name].insert(v));\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    function parse(text) {\r\n        var json;\r\n        if (text[0] === '{') {\r\n            json = JSON.parse(text.trim());\r\n        }\r\n        else {\r\n            json = jsyaml.load(text.trim());\r\n        }\r\n        var root = graph.getModel().getRoot();\r\n        root.setAttribute(\"comment\", json.Comment || \"\");\r\n        root.setAttribute(\"timeout_seconds\", json.TimeoutSeconds || \"\");\r\n        root.setAttribute(\"version\", json.Version || \"\");\r\n        var res = recurseStates(json.States);\r\n        var inserted = res.list;\r\n        var vertexes = res.hash;\r\n        var sp = StartPoint.prototype.create();\r\n        inserted.unshift(sp);\r\n        var ep = EndPoint.prototype.create();\r\n        inserted.push(ep);\r\n        var tmp = recurseEdges(json, vertexes, sp, ep);\r\n        inserted.push(...tmp);\r\n        graph.getModel().beginUpdate();\r\n        try {\r\n            graph.addCells(inserted);\r\n            graph.fireEvent(new mxEventObject('cellsInserted', 'cells', inserted));\r\n        }\r\n        finally {\r\n            graph.getModel().endUpdate();\r\n        }\r\n        return inserted;\r\n    }\r\n    function executeLayout(cells) {\r\n        graph.setSelectionCells(cells);\r\n        graph.getModel().beginUpdate();\r\n        try {\r\n            var parallels = cells.filter(function (v) { return v.awssf.type.match(/Parallel|Map/); });\r\n            var parallelLayout = new mxCompactTreeLayout(graph, false);\r\n            parallelLayout.edgeRouting = false;\r\n            parallelLayout.levelDistance = 30;\r\n            parallelLayout.groupPadding = 30;\r\n            for (var p in parallels) {\r\n                parallelLayout.execute(parallels[p], parallels[p].getChildAt(0));\r\n            }\r\n            var layout = new mxHierarchicalLayout(graph, mxConstants.DIRECTION_NORTH);\r\n            layout.intraCellSpacing = 40;\r\n            layout.interRankCellSpacing = 40;\r\n            layout.interHierarchySpacing = 40;\r\n            layout.parallelEdgeSpacing = 10;\r\n            layout.execute(graph.getDefaultParent(), [cells[0]]);\r\n        }\r\n        finally {\r\n            // New API for animating graph layout results asynchronously\r\n            var morph = new mxMorphing(graph);\r\n            morph.addListener(mxEvent.DONE, mxUtils.bind(this, function () {\r\n                graph.getModel().endUpdate();\r\n            }));\r\n            morph.startAnimation();\r\n        }\r\n    }\r\n    var div = document.createElement('div');\r\n    var h3 = document.createElement('h2');\r\n    mxUtils.write(h3, title);\r\n    h3.style.marginTop = '0px';\r\n    h3.style.marginBottom = '24px';\r\n    div.appendChild(h3);\r\n    var span = document.createElement('span');\r\n    mxUtils.write(span, 'Paste statemachine definition JSON or YAML');\r\n    div.appendChild(span);\r\n    var form = new mxForm('properties');\r\n    form.table.style.width = '100%';\r\n    form.table.style.paddingRight = '20px';\r\n    var defaultValue = '';\r\n    var textarea = form.addTextarea('', defaultValue, 25);\r\n    textarea.style.width = '100%';\r\n    textarea.style.marginBottom = '16px';\r\n    div.appendChild(form.table);\r\n    var form2 = new mxForm('properties');\r\n    form2.table.style.width = '100%';\r\n    form2.table.style.paddingRight = '20px';\r\n    var colgroupName = document.createElement('colgroup');\r\n    colgroupName.width = '120';\r\n    form2.table.insertBefore(colgroupName, form2.body);\r\n    var colgroupValue = document.createElement('colgroup');\r\n    form2.table.insertBefore(colgroupValue, form2.body);\r\n    var select = document.createElement('select');\r\n    form2.addField('StateMachine:', select);\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"inCarlo\"]() && _utils__WEBPACK_IMPORTED_MODULE_0__[\"setupAWSconfig\"]()) {\r\n        __listStateMachines().then(function (data) {\r\n            for (var j in data.stateMachines) {\r\n                var option = document.createElement('option');\r\n                mxUtils.writeln(option, data.stateMachines[j].name);\r\n                option.setAttribute('value', data.stateMachines[j].stateMachineArn);\r\n                select.appendChild(option);\r\n            }\r\n        });\r\n        mxEvent.addListener(select, 'change', function () {\r\n            __describeStateMachine(select.value).then(function (newData) {\r\n                if (textarea.value.length == 0 || textarea.value == defaultValue) {\r\n                    defaultValue = newData.definition;\r\n                    textarea.value = defaultValue;\r\n                }\r\n            });\r\n        });\r\n    }\r\n    else {\r\n        var option = document.createElement('option');\r\n        mxUtils.writeln(option, 'Select a StateMachine...');\r\n        select.appendChild(option);\r\n        select.disabled = true;\r\n    }\r\n    div.appendChild(form2.table);\r\n    var buttons = document.createElement('div');\r\n    buttons.style.marginTop = '18px';\r\n    buttons.style.textAlign = 'right';\r\n    this.init = function () {\r\n        textarea.focus();\r\n    };\r\n    var cancelBtn = mxUtils.button(mxResources.get('cancel'), function () {\r\n        if (textarea.value == defaultValue) {\r\n            editorUi.hideDialog();\r\n        }\r\n        else {\r\n            editorUi.confirm(mxResources.get('areYouSure'), function () {\r\n                editorUi.hideDialog();\r\n            });\r\n        }\r\n    });\r\n    cancelBtn.className = 'geBtn';\r\n    if (editorUi.editor.cancelFirst) {\r\n        buttons.appendChild(cancelBtn);\r\n    }\r\n    var okBtn = mxUtils.button(mxResources.get('awssfImportBtn'), function () {\r\n        try {\r\n            var cells = parse(textarea.value);\r\n            editorUi.hideDialog();\r\n            executeLayout(cells);\r\n        }\r\n        catch (err) {\r\n            alert(err);\r\n        }\r\n    });\r\n    buttons.appendChild(okBtn);\r\n    okBtn.className = 'geBtn gePrimaryBtn';\r\n    if (!editorUi.editor.cancelFirst) {\r\n        buttons.appendChild(cancelBtn);\r\n    }\r\n    div.appendChild(buttons);\r\n    this.container = div;\r\n};\r\nconst awssfDeployDialog = function (editorUi, title) {\r\n    var graph = editorUi.editor.graph;\r\n    var params = {\r\n        definition: JSON.stringify(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getStepFunctionDefinition\"](), null, \"  \"),\r\n        name: graph.getModel().cells[0].getAttribute(\"name\") || \"\",\r\n        roleArn: graph.getModel().cells[0].getAttribute(\"role_arn\") || \"\",\r\n        stateMachineArn: graph.getModel().cells[0].getAttribute(\"state_machine_arn\") || \"\"\r\n    };\r\n    var div = document.createElement('div');\r\n    var h3 = document.createElement('h2');\r\n    mxUtils.write(h3, title);\r\n    h3.style.marginTop = '0px';\r\n    h3.style.marginBottom = '24px';\r\n    div.appendChild(h3);\r\n    var form = new mxForm('properties');\r\n    form.table.style.width = '100%';\r\n    form.table.style.paddingRight = '20px';\r\n    var colgroupName = document.createElement('colgroup');\r\n    colgroupName.width = '120';\r\n    form.table.insertBefore(colgroupName, form.body);\r\n    var colgroupValue = document.createElement('colgroup');\r\n    form.table.insertBefore(colgroupValue, form.body);\r\n    var select = document.createElement('select');\r\n    var defaultOption = document.createElement('option');\r\n    mxUtils.writeln(defaultOption, 'Create a new statemachine');\r\n    defaultOption.setAttribute('selected', 'true');\r\n    select.appendChild(defaultOption);\r\n    defaultOption.setAttribute('value', '__CREATE__');\r\n    __listStateMachines().then(function (data) {\r\n        for (var j in data.stateMachines) {\r\n            var option = document.createElement('option');\r\n            mxUtils.writeln(option, data.stateMachines[j].name);\r\n            option.setAttribute('value', data.stateMachines[j].stateMachineArn);\r\n            if (params.stateMachineArn == data.stateMachines[j].stateMachineArn) {\r\n                option.setAttribute('selected', 'true');\r\n            }\r\n            select.appendChild(option);\r\n        }\r\n    });\r\n    form.addField('StateMachine:', select);\r\n    mxEvent.addListener(select, 'change', function () {\r\n        __describeStateMachine(select.value).then(function (data) {\r\n            if (textarea.value.length == 0 || textarea.value == defaultValue) {\r\n                arnInput.value = data.stateMachineArn;\r\n                nameInput.value = data.name;\r\n                roleInput.value = data.roleArn;\r\n            }\r\n        });\r\n    });\r\n    var arnInput = form.addText('StaeMachineArn:', params.stateMachineArn);\r\n    arnInput.style.width = '100%';\r\n    var nameInput = form.addText('Name:', params.name);\r\n    nameInput.style.width = '100%';\r\n    var roleInput = form.addText('Role:', params.roleArn);\r\n    roleInput.style.width = '100%';\r\n    var defaultValue = params.definition;\r\n    var textarea = form.addTextarea('Definition:', defaultValue, 30);\r\n    textarea.style.width = '100%';\r\n    div.appendChild(form.table);\r\n    var buttons = document.createElement('div');\r\n    buttons.style.marginTop = '18px';\r\n    buttons.style.textAlign = 'right';\r\n    this.init = function () {\r\n        nameInput.focus();\r\n    };\r\n    var cancelBtn = mxUtils.button(mxResources.get('cancel'), function () {\r\n        if (textarea.value == defaultValue) {\r\n            editorUi.hideDialog();\r\n        }\r\n        else {\r\n            editorUi.confirm(mxResources.get('areYouSure'), function () {\r\n                editorUi.hideDialog();\r\n            });\r\n        }\r\n    });\r\n    cancelBtn.className = 'geBtn';\r\n    if (editorUi.editor.cancelFirst) {\r\n        buttons.appendChild(cancelBtn);\r\n    }\r\n    var okBtn = mxUtils.button(mxResources.get('awssfDeployBtn'), function () {\r\n        var params = {\r\n            name: nameInput.value,\r\n            definition: textarea.value,\r\n            roleArn: roleInput.value\r\n        };\r\n        if (select.value !== '__CREATE__') {\r\n            //@ts-ignore\r\n            params.stateMachineArn = arnInput.value;\r\n            delete params.name;\r\n            if (!params.roleArn)\r\n                delete params.roleArn;\r\n            if (!params.definition)\r\n                delete params.definition;\r\n        }\r\n        __deployStateMachine(params).then(() => {\r\n            editorUi.hideDialog();\r\n        }).catch(err => {\r\n            alert(err.message);\r\n        });\r\n    });\r\n    buttons.appendChild(okBtn);\r\n    okBtn.className = 'geBtn gePrimaryBtn';\r\n    if (!editorUi.editor.cancelFirst) {\r\n        buttons.appendChild(cancelBtn);\r\n    }\r\n    div.appendChild(buttons);\r\n    this.container = div;\r\n};\r\nconst awssfExportDialog = function (editorUi, title, value) {\r\n    var div = document.createElement('div');\r\n    var h3 = document.createElement('h2');\r\n    mxUtils.write(h3, title);\r\n    h3.style.marginTop = '0px';\r\n    h3.style.marginBottom = '24px';\r\n    div.appendChild(h3);\r\n    var form = new mxForm('properties');\r\n    form.table.style.width = '100%';\r\n    form.table.style.paddingRight = '20px';\r\n    var textarea = form.addTextarea('', value, 25);\r\n    textarea.style.width = '100%';\r\n    textarea.style.marginBottom = '16px';\r\n    textarea.readOnly = true;\r\n    div.appendChild(form.table);\r\n    var buttons = document.createElement('div');\r\n    buttons.style.marginTop = '18px';\r\n    buttons.style.textAlign = 'right';\r\n    this.init = function () {\r\n        textarea.focus();\r\n        textarea.scrollTop = 0;\r\n    };\r\n    var copyBtn = mxUtils.button(mxResources.get('copy'), function () {\r\n        const range = document.createRange();\r\n        range.selectNode(textarea);\r\n        const selection = document.getSelection();\r\n        selection.removeAllRanges();\r\n        selection.addRange(range);\r\n        document.execCommand('copy');\r\n        range.detach();\r\n    });\r\n    copyBtn.className = 'geBtn gePrimaryBtn';\r\n    buttons.appendChild(copyBtn);\r\n    var cancelBtn = mxUtils.button(mxResources.get('close'), function () {\r\n        editorUi.hideDialog();\r\n    });\r\n    cancelBtn.className = 'geBtn';\r\n    buttons.appendChild(cancelBtn);\r\n    div.appendChild(buttons);\r\n    this.container = div;\r\n};\r\n\n\n//# sourceURL=webpack:///./src/form/dialog.ts?");

/***/ }),

/***/ "./src/form/editData.ts":
/*!******************************!*\
  !*** ./src/form/editData.ts ***!
  \******************************/
/*! exports provided: setupEditData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupEditData\", function() { return setupEditData; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n\r\nfunction setupEditData() {\r\n    const origEditDataDialog = EditDataDialog;\r\n    EditDataDialog = function (editorUi, cell) {\r\n        if (!_utils__WEBPACK_IMPORTED_MODULE_0__[\"isAWSsf\"](cell)) {\r\n            return origEditDataDialog.apply(this, arguments);\r\n        }\r\n        var div = document.createElement('div');\r\n        var graph = editorUi.editor ? editorUi.editor.graph : editorUi.graph;\r\n        div.style.height = '100%'; //'310px';\r\n        div.style.overflow = 'auto';\r\n        var value = graph.getModel().getValue(cell);\r\n        // Converts the value to an XML node\r\n        if (!mxUtils.isNode(value)) {\r\n            var obj = mxUtils.createXmlDocument().createElement('object');\r\n            obj.setAttribute('label', value || '');\r\n            value = obj;\r\n        }\r\n        // Creates the dialog contents\r\n        var form = new mxForm('properties');\r\n        form.table.style.width = '100%';\r\n        form.table.style.paddingRight = '20px';\r\n        var colgroupName = document.createElement('colgroup');\r\n        colgroupName.width = '120';\r\n        form.table.insertBefore(colgroupName, form.body);\r\n        var colgroupValue = document.createElement('colgroup');\r\n        form.table.insertBefore(colgroupValue, form.body);\r\n        var attrs = [];\r\n        if (cell.awssf.orderedAttributes) {\r\n            cell.awssf.orderedAttributes.forEach(v => {\r\n                attrs.push(value.attributes.getNamedItem(v));\r\n            });\r\n            for (const attr of value.attributes) {\r\n                if (cell.awssf.orderedAttributes.indexOf(attr.nodeName) === -1) {\r\n                    attrs.push(attr);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            attrs.push(...value.attributes);\r\n        }\r\n        var names = [];\r\n        var texts = [];\r\n        var count = 0;\r\n        var addTextArea = function (index, name, value) {\r\n            names[index] = name;\r\n            texts[index] = form.addTextarea(names[count] + ':', value, 2);\r\n            texts[index].style.width = '100%';\r\n            return texts[index];\r\n        };\r\n        var addText = function (index, name, value) {\r\n            names[index] = name;\r\n            texts[index] = form.addText(names[count] + ':', value);\r\n            texts[index].style.width = '100%';\r\n            return texts[index];\r\n        };\r\n        var addJsonEdit = function (index, name, value, autocomplete) {\r\n            names[index] = name;\r\n            const div = document.createElement('div');\r\n            div.id = \"jsoneditor\";\r\n            div.className = name;\r\n            const options = {\r\n                mode: 'code',\r\n                modes: ['code', 'tree'],\r\n                statusBar: false,\r\n                // enableTransform: false,\r\n                // enableSort: false,\r\n                modalAnchor: div,\r\n                popupAnchor: div\r\n            };\r\n            // @ts-ignore\r\n            if (autocomplete)\r\n                options.autocomplete = autocomplete;\r\n            const jsonEditor = {\r\n                ed: new JSONEditor(div, options),\r\n                set value(data) {\r\n                    try {\r\n                        if (data[0] === '{') {\r\n                            this.ed.set(JSON.parse(data));\r\n                        }\r\n                        else if (data.length > 0) {\r\n                            this.ed.set(data);\r\n                        }\r\n                    }\r\n                    catch (err) {\r\n                        this.ed.set(data);\r\n                    }\r\n                },\r\n                get value() {\r\n                    var data = this.ed.get();\r\n                    if (typeof data === 'object') {\r\n                        return JSON.stringify(this.ed.get());\r\n                    }\r\n                    else {\r\n                        return this.ed.get();\r\n                    }\r\n                }\r\n            };\r\n            jsonEditor.value = value;\r\n            texts[index] = jsonEditor;\r\n            return form.addField(names[count] + ':', div);\r\n        };\r\n        for (var i = 0; i < attrs.length; i++) {\r\n            var nodeName = attrs[i].nodeName;\r\n            var nodeValue = attrs[i].nodeValue;\r\n            if (cell.awssf.hiddenAttributes && cell.awssf.hiddenAttributes.indexOf(nodeName) >= 0)\r\n                continue;\r\n            if (nodeName == 'type') {\r\n                var span = document.createElement('span');\r\n                mxUtils.write(span, nodeValue);\r\n                form.addField('type:', span);\r\n            }\r\n            else if ((typeof (AWS) === \"object\") && (nodeName == 'resource')) {\r\n                const input = addText(count, nodeName, nodeValue);\r\n                count++;\r\n                input.setAttribute(\"list\", \"resources\");\r\n                const datalist = document.createElement('datalist');\r\n                datalist.id = \"resources\";\r\n                _utils__WEBPACK_IMPORTED_MODULE_0__[\"getResourceList\"](function (resources) {\r\n                    for (var j in resources) {\r\n                        var opt = document.createElement('option');\r\n                        opt.value = resources[j];\r\n                        datalist.appendChild(opt);\r\n                    }\r\n                });\r\n                div.appendChild(datalist);\r\n            }\r\n            else if (nodeName == 'label' && (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isChoice\"](cell) || _utils__WEBPACK_IMPORTED_MODULE_0__[\"isRetry\"](cell) || _utils__WEBPACK_IMPORTED_MODULE_0__[\"isCatch\"](cell))) {\r\n                const input = addText(count, nodeName, nodeValue);\r\n                count++;\r\n                input.setAttribute(\"list\", \"candidates\");\r\n                const datalist = document.createElement('datalist');\r\n                datalist.id = \"candidates\";\r\n                var candidates = [];\r\n                if (attrs[\"error_equals\"])\r\n                    candidates.push(\"%error_equals%\");\r\n                if (attrs[\"condition\"])\r\n                    candidates.push(\"%condition%\");\r\n                for (var j in candidates) {\r\n                    var opt = document.createElement('option');\r\n                    opt.value = candidates[j];\r\n                    datalist.appendChild(opt);\r\n                }\r\n                div.appendChild(datalist);\r\n            }\r\n            else if (nodeName == 'error_equals') {\r\n                const input = addText(count, nodeName, nodeValue);\r\n                count++;\r\n                input.setAttribute(\"list\", \"errors\");\r\n                const datalist = document.createElement('datalist');\r\n                datalist.id = \"errors\";\r\n                var errors = [\r\n                    \"States.ALL\",\r\n                    \"States.Timeout\",\r\n                    \"States.TaskFailed\",\r\n                    \"States.Permissions\",\r\n                    \"States.ResultPathMatchFailure\",\r\n                    \"States.ParameterPathFailure\",\r\n                    \"States.BranchFailed\",\r\n                    \"States.NoChoiceMatched\"\r\n                ];\r\n                for (const error of errors) {\r\n                    const opt = document.createElement('option');\r\n                    opt.value = error;\r\n                    datalist.appendChild(opt);\r\n                }\r\n                div.appendChild(datalist);\r\n            }\r\n            else if (cell.awssf && cell.awssf.buildForm) {\r\n                const res = cell.awssf.buildForm(form, nodeName, nodeValue);\r\n                if (res != null) {\r\n                    names[count] = res[0];\r\n                    texts[count] = res[1];\r\n                    count++;\r\n                }\r\n            }\r\n            else if (nodeName == 'parameters') {\r\n                const autocomplete = {\r\n                    applyTo: ['value'],\r\n                    filter: 'start',\r\n                    trigger: 'focus',\r\n                    getOptions: function (text, path, input, editor) {\r\n                        return new Promise(function (resolve, reject) {\r\n                            if (path[0] !== \"\")\r\n                                return reject();\r\n                            if (input !== 'field')\r\n                                return reject();\r\n                            // @ts-ignore\r\n                            const resource = $(\"input[list='resources']\")[0].value;\r\n                            if (!resource)\r\n                                return reject();\r\n                            const options = _utils__WEBPACK_IMPORTED_MODULE_0__[\"awsServiceParameters\"][resource.replace(/\\.[^.]+$/, '')];\r\n                            if (options.length === 0)\r\n                                return reject();\r\n                            return resolve(options);\r\n                        });\r\n                    }\r\n                };\r\n                addJsonEdit(count, nodeName, nodeValue, autocomplete);\r\n                count++;\r\n            }\r\n            else if (nodeName == 'results_selector') {\r\n                const autocomplete = {\r\n                    applyTo: ['value'],\r\n                    filter: 'start',\r\n                    trigger: 'focus',\r\n                    getOptions: function (text, path, input, editor) {\r\n                        return new Promise(function (resolve, reject) {\r\n                            if (path[0] !== \"\")\r\n                                return reject();\r\n                            if (input !== 'field')\r\n                                return reject();\r\n                            // @ts-ignore\r\n                            const resource = $(\"input[list='resources']\")[0].value;\r\n                            if (!resource)\r\n                                return reject();\r\n                            const options = _utils__WEBPACK_IMPORTED_MODULE_0__[\"awsServiceParameters\"][resource.replace(/\\.[^.]+$/, '')];\r\n                            if (options.length === 0)\r\n                                return reject();\r\n                            return resolve(options);\r\n                        });\r\n                    }\r\n                };\r\n                addJsonEdit(count, nodeName, nodeValue, autocomplete);\r\n                count++;\r\n            }\r\n            else if ( /*nodeName != 'label' && */nodeName != 'placeholders') {\r\n                addTextArea(count, nodeName, nodeValue);\r\n                count++;\r\n            }\r\n        }\r\n        div.appendChild(form.table);\r\n        this.init = function () {\r\n            if (texts.length > 0) {\r\n                texts[0].focus();\r\n                // } else {\r\n                //   nameInput.focus();\r\n            }\r\n        };\r\n        var cancelBtn = mxUtils.button(mxResources.get('cancel'), function () {\r\n            editorUi.hideDialog.apply(editorUi, arguments);\r\n        });\r\n        cancelBtn.className = 'geBtn';\r\n        var applyBtn = mxUtils.button(mxResources.get('apply'), function () {\r\n            try {\r\n                editorUi.hideDialog.apply(editorUi, arguments);\r\n                // Clones and updates the value\r\n                value = value.cloneNode(true);\r\n                var removeLabel = false;\r\n                for (var i = 0; i < names.length; i++) {\r\n                    if (cell.awssf && cell.awssf.applyForm) {\r\n                        removeLabel = removeLabel || cell.awssf.applyForm(value, names[i], texts[i]);\r\n                    }\r\n                    else {\r\n                        if (texts[i] == null) {\r\n                            value.removeAttribute(names[i]);\r\n                        }\r\n                        else {\r\n                            value.setAttribute(names[i], texts[i].value);\r\n                            removeLabel = removeLabel || (names[i] == 'placeholder' &&\r\n                                value.getAttribute('placeholders') == '1');\r\n                        }\r\n                    }\r\n                }\r\n                // Removes label if placeholder is assigned\r\n                if (removeLabel) {\r\n                    value.removeAttribute('label');\r\n                }\r\n                // Updates the value of the cell (undoable)\r\n                graph.getModel().setValue(cell, value);\r\n            }\r\n            catch (e) {\r\n                mxUtils.alert(e);\r\n            }\r\n        });\r\n        applyBtn.className = 'geBtn gePrimaryBtn';\r\n        var buttons = document.createElement('div');\r\n        buttons.style.marginTop = '18px';\r\n        buttons.style.textAlign = 'right';\r\n        if (graph.getModel().isVertex(cell) || graph.getModel().isEdge(cell)) {\r\n            var replace = document.createElement('span');\r\n            replace.style.marginRight = '10px';\r\n            var input = document.createElement('input');\r\n            input.setAttribute('type', 'checkbox');\r\n            input.style.marginRight = '6px';\r\n            if (value.getAttribute('placeholders') == '1') {\r\n                input.setAttribute('checked', 'checked');\r\n                input.defaultChecked = true;\r\n            }\r\n            mxEvent.addListener(input, 'click', function () {\r\n                if (value.getAttribute('placeholders') == '1') {\r\n                    value.removeAttribute('placeholders');\r\n                }\r\n                else {\r\n                    value.setAttribute('placeholders', '1');\r\n                }\r\n            });\r\n            replace.appendChild(input);\r\n            mxUtils.write(replace, mxResources.get('placeholders'));\r\n            if (EditDataDialog.placeholderHelpLink != null) {\r\n                var link = document.createElement('a');\r\n                link.setAttribute('href', EditDataDialog.placeholderHelpLink);\r\n                link.setAttribute('title', mxResources.get('help'));\r\n                link.setAttribute('target', '_blank');\r\n                link.style.marginLeft = '10px';\r\n                link.style.cursor = 'help';\r\n                var icon = document.createElement('img');\r\n                icon.setAttribute('border', '0');\r\n                icon.setAttribute('valign', 'middle');\r\n                icon.style.marginTop = '-4px';\r\n                icon.setAttribute('src', Editor.helpImage);\r\n                link.appendChild(icon);\r\n                replace.appendChild(link);\r\n            }\r\n            buttons.appendChild(replace);\r\n        }\r\n        if (editorUi.editor && editorUi.editor.cancelFirst) {\r\n            buttons.appendChild(cancelBtn);\r\n            buttons.appendChild(applyBtn);\r\n        }\r\n        else {\r\n            buttons.appendChild(applyBtn);\r\n            buttons.appendChild(cancelBtn);\r\n        }\r\n        div.appendChild(buttons);\r\n        this.container = div;\r\n    };\r\n}\r\n\n\n//# sourceURL=webpack:///./src/form/editData.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./main */ \"./src/main.ts\");\n\r\n\r\nmxscript(\"https://cdn.jsdelivr.net/npm/jsep@0.3.4/build/jsep.min.js\");\r\nmxscript(\"https://cdn.jsdelivr.net/npm/js-yaml@3.13.1/dist/js-yaml.min.js\");\r\nmxscript(\"https://sdk.amazonaws.com/js/aws-sdk-2.510.0.min.js\");\r\nmxscript(\"https://cdn.jsdelivr.net/npm/jsoneditor@7.0.4/dist/jsoneditor.min.js\");\r\nObject(_utils__WEBPACK_IMPORTED_MODULE_0__[\"linkStyle\"])('https://cdn.jsdelivr.net/npm/jsoneditor@7.0.4/dist/jsoneditor.min.css');\r\nDraw.loadPlugin(_main__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\r\n\n\n//# sourceURL=webpack:///./src/index.ts?");

/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return main; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n/* harmony import */ var _form_editData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./form/editData */ \"./src/form/editData.ts\");\n/* harmony import */ var _menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./menu */ \"./src/menu.ts\");\n/* harmony import */ var _sidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sidebar */ \"./src/sidebar.ts\");\n/* harmony import */ var _patch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./patch */ \"./src/patch.ts\");\n/* harmony import */ var _extend__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./extend */ \"./src/extend.ts\");\n/* harmony import */ var _states_index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./states/index */ \"./src/states/index.ts\");\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./style.css */ \"./src/style.css\");\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_style_css__WEBPACK_IMPORTED_MODULE_7__);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction main(ui) {\r\n    _utils__WEBPACK_IMPORTED_MODULE_0__[\"init\"](ui);\r\n    Object(_form_editData__WEBPACK_IMPORTED_MODULE_1__[\"setupEditData\"])();\r\n    Object(_states_index__WEBPACK_IMPORTED_MODULE_6__[\"setupStates\"])(ui);\r\n    Object(_sidebar__WEBPACK_IMPORTED_MODULE_3__[\"setupSidebar\"])(ui);\r\n    Object(_menu__WEBPACK_IMPORTED_MODULE_2__[\"setupActions\"])(ui);\r\n    Object(_patch__WEBPACK_IMPORTED_MODULE_4__[\"refreshScratchpadData\"])(ui);\r\n    Object(_extend__WEBPACK_IMPORTED_MODULE_5__[\"setupMisc\"])(ui);\r\n}\r\n\n\n//# sourceURL=webpack:///./src/main.ts?");

/***/ }),

/***/ "./src/menu.ts":
/*!*********************!*\
  !*** ./src/menu.ts ***!
  \*********************/
/*! exports provided: setupActions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupActions\", function() { return setupActions; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n/* harmony import */ var _form_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./form/dialog */ \"./src/form/dialog.ts\");\n\r\n\r\nlet ui;\r\nfunction editData() {\r\n    var cell = ui.editor.graph.getSelectionCell() || ui.editor.graph.getModel().getRoot();\r\n    if (cell != null) {\r\n        var dlg = new EditDataDialog(ui, cell);\r\n        ui.showDialog(dlg.container, 600, 500, true, false);\r\n        dlg.container.parentNode.style.resize = 'both';\r\n        dlg.init();\r\n    }\r\n}\r\nfunction popup(title, src) {\r\n    var dlg = new _form_dialog__WEBPACK_IMPORTED_MODULE_1__[\"awssfExportDialog\"](ui, title, src);\r\n    ui.showDialog(dlg.container, 700, 500, true, false);\r\n    dlg.container.parentNode.style.resize = 'both';\r\n    dlg.init();\r\n}\r\nfunction validate() {\r\n    var checklist = {\r\n        START_EXIST: [false, 'start MUST exist'],\r\n        END_EXIST: [false, 'end MUST exist'],\r\n        UNIQ_NAME: [true, {}, 'name MUST be unique.'],\r\n        NAME_LENGTH: [true, [], 'name MUST BE less than or equal to 128 unicode characters.']\r\n    };\r\n    var model = ui.editor.graph.getModel();\r\n    for (const i in model.cells) {\r\n        const cell = model.cells[i];\r\n        if (cell.awssf && cell.awssf.validate) {\r\n            var res = cell.awssf.validate(cell);\r\n            if (res.length > 0) {\r\n                checklist[label] = [false, [], res.join(\"\\n\")];\r\n                ui.editor.graph.setCellWarning(cell, res.join(\"\\n\"));\r\n            }\r\n            else {\r\n                ui.editor.graph.setCellWarning(cell, null);\r\n            }\r\n        }\r\n        if (!cell.isVertex())\r\n            continue;\r\n        var label = cell.getAttribute(\"label\");\r\n        if (label != null && !_utils__WEBPACK_IMPORTED_MODULE_0__[\"isStart\"](cell) && !_utils__WEBPACK_IMPORTED_MODULE_0__[\"isEnd\"](cell)) {\r\n            if (checklist.UNIQ_NAME[1][label] >= 1) {\r\n                checklist.UNIQ_NAME[0] = false;\r\n                checklist.UNIQ_NAME[1][label] += 1;\r\n            }\r\n            else {\r\n                checklist.UNIQ_NAME[1][label] = 1;\r\n            }\r\n            if (label.length > 128) {\r\n                checklist.NAME_LENGTH[0] = false;\r\n                //@ts-ignore\r\n                checklist.NAME_LENGTH[1].push(label);\r\n            }\r\n        }\r\n        if (cell.value != null) {\r\n            if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isStart\"](cell)) {\r\n                checklist.START_EXIST[0] = true;\r\n            }\r\n            if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isEnd\"](cell)) {\r\n                checklist.END_EXIST[0] = true;\r\n            }\r\n        }\r\n    }\r\n    var msg = [];\r\n    for (const i in checklist) {\r\n        if (checklist[i][0] == false) {\r\n            msg.push(checklist[i][checklist[i].length - 1]);\r\n        }\r\n    }\r\n    if (msg.length > 0)\r\n        mxUtils.alert(msg.join(\"\\n\"));\r\n}\r\nfunction exportJson() {\r\n    var data = _utils__WEBPACK_IMPORTED_MODULE_0__[\"getStepFunctionDefinition\"]();\r\n    popup(\"Export as JSON\", JSON.stringify(data, null, \"  \"));\r\n}\r\nfunction exportYaml() {\r\n    var data = _utils__WEBPACK_IMPORTED_MODULE_0__[\"getStepFunctionDefinition\"]();\r\n    popup(\"Export as YAML\", jsyaml.dump(data));\r\n}\r\nfunction exportXml() {\r\n    var encoder = new mxCodec();\r\n    var node = encoder.encode(ui.editor.graph.getModel());\r\n    popup(\"Export as XML for draw.io\", mxUtils.getPrettyXml(node));\r\n}\r\nfunction importDefinition() {\r\n    var dlg = new _form_dialog__WEBPACK_IMPORTED_MODULE_1__[\"awssfImportDialog\"](ui, 'Import Definition');\r\n    ui.showDialog(dlg.container, 700, 500, true, false);\r\n    dlg.container.parentNode.style.resize = 'both';\r\n    dlg.init();\r\n}\r\nfunction deploy() {\r\n    if (!(_utils__WEBPACK_IMPORTED_MODULE_0__[\"inCarlo\"]() && _utils__WEBPACK_IMPORTED_MODULE_0__[\"setupAWSconfig\"]()))\r\n        return;\r\n    var dlg = new _form_dialog__WEBPACK_IMPORTED_MODULE_1__[\"awssfDeployDialog\"](ui, 'Deploy StateMachine Definition');\r\n    ui.showDialog(dlg.container, 800, 600, true, false);\r\n    dlg.container.parentNode.style.resize = 'both';\r\n    dlg.init();\r\n}\r\nfunction setupActions(editorUi) {\r\n    ui = editorUi;\r\n    mxResources.parse('stepFunctions=StepFunctions');\r\n    mxResources.parse('awssfValidate=Validate');\r\n    mxResources.parse('awssfImport=Import...');\r\n    mxResources.parse('awssfImportBtn=Import');\r\n    mxResources.parse('awssfExportJSON=Export JSON');\r\n    mxResources.parse('awssfExportYAML=Export YAML');\r\n    mxResources.parse('awssfExport=Export');\r\n    mxResources.parse('awssfLambda=Lambda');\r\n    mxResources.parse('awssfDeploy=Deploy...');\r\n    mxResources.parse('awssfDeployBtn=Deploy');\r\n    editorUi.actions.addAction('editData...', editData, null, null, 'Ctrl+M');\r\n    editorUi.actions.addAction('awssfValidate', validate);\r\n    editorUi.actions.addAction('awssfExportJSON', exportJson);\r\n    editorUi.actions.addAction('awssfExportYAML', exportYaml);\r\n    editorUi.actions.addAction('awssfExport', exportXml);\r\n    editorUi.actions.addAction('awssfImport', importDefinition);\r\n    editorUi.actions.addAction('awssfDeploy', deploy).isEnabled = _utils__WEBPACK_IMPORTED_MODULE_0__[\"isSupproted\"];\r\n    function setMenu(_menu, parent) {\r\n        editorUi.menus.addMenuItems(_menu, [\r\n            '-',\r\n            'awssfValidate',\r\n            '-',\r\n            'awssfImport',\r\n            'awssfExportJSON',\r\n            'awssfExportYAML',\r\n            'awssfExport',\r\n            '-',\r\n            'awssfDeploy'\r\n        ]);\r\n    }\r\n    var menu = editorUi.menubar.addMenu('StepFunctions', setMenu);\r\n    menu.parentNode.insertBefore(menu, menu.previousSibling.previousSibling.previousSibling);\r\n}\r\n\n\n//# sourceURL=webpack:///./src/menu.ts?");

/***/ }),

/***/ "./src/patch.ts":
/*!**********************!*\
  !*** ./src/patch.ts ***!
  \**********************/
/*! exports provided: refreshScratchpadData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"refreshScratchpadData\", function() { return refreshScratchpadData; });\nfunction refreshScratchpadData(ui) {\r\n    var forceReloadScratchPad = function (...v) {\r\n        console.log(\">>reload scratchpad\", ...v);\r\n        ui.toggleScratchpad();\r\n        ui.toggleScratchpad();\r\n    };\r\n    ui.addListener('clientLoaded', forceReloadScratchPad);\r\n}\r\n\n\n//# sourceURL=webpack:///./src/patch.ts?");

/***/ }),

/***/ "./src/shapes/index.ts":
/*!*****************************!*\
  !*** ./src/shapes/index.ts ***!
  \*****************************/
/*! exports provided: init */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony import */ var _layered__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./layered */ \"./src/shapes/layered.ts\");\n\r\nfunction init() {\r\n    const mapShape = _layered__WEBPACK_IMPORTED_MODULE_0__[\"LayeredShape\"];\r\n}\r\n\n\n//# sourceURL=webpack:///./src/shapes/index.ts?");

/***/ }),

/***/ "./src/shapes/layered.ts":
/*!*******************************!*\
  !*** ./src/shapes/layered.ts ***!
  \*******************************/
/*! exports provided: LayeredShape */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LayeredShape\", function() { return LayeredShape; });\nconst LayeredShape = function () { };\r\nLayeredShape.prototype = new mxSwimlane(); //mxActor();\r\nLayeredShape.prototype.constructor = LayeredShape;\r\nLayeredShape.prototype.isHorizontal = function () { return false; };\r\nLayeredShape.prototype.paintVertexShape = function (c, x, y, w, h) {\r\n    c.translate(x, y);\r\n    var dx = Math.max(0, Math.min(w, parseFloat(mxUtils.getValue(this.style, 'dx', this.dx))));\r\n    dx = Math.min(w * 0.5, h * 0.5, dx);\r\n    c.begin();\r\n    c.moveTo(w - dx * 0.5, dx);\r\n    c.lineTo(w, dx);\r\n    c.lineTo(w, h);\r\n    c.lineTo(dx, h);\r\n    c.lineTo(dx, h - dx * 0.5);\r\n    c.lineTo(w - dx * 0.5, h - dx * 0.5);\r\n    c.close();\r\n    c.fillAndStroke();\r\n    c.begin();\r\n    c.moveTo(w - dx, dx * 0.5);\r\n    c.lineTo(w - dx * 0.5, dx * 0.5);\r\n    c.lineTo(w - dx * 0.5, h - dx * 0.5);\r\n    c.lineTo(dx * 0.5, h - dx * 0.5);\r\n    c.lineTo(dx * 0.5, h - dx);\r\n    c.lineTo(w - dx, h - dx);\r\n    c.close();\r\n    c.fillAndStroke();\r\n    c.begin();\r\n    c.moveTo(0, 0);\r\n    c.lineTo(w - dx, 0);\r\n    c.lineTo(w - dx, h - dx);\r\n    c.lineTo(0, h - dx);\r\n    c.close();\r\n    c.stroke();\r\n    c.begin();\r\n    c.moveTo(0, this.startSize);\r\n    c.lineTo(w - dx, this.startSize);\r\n    c.stroke();\r\n};\r\nmxCellRenderer.registerShape('awssf.layered', LayeredShape);\r\nGraph.handleFactory['awssf.layered'] = function (state) {\r\n    var handles = [];\r\n    handles.push(...Graph.handleFactory['swimlane'](state));\r\n    // handles.push(...Graph.handleFactory['mxgraph.basic.layered_rect'](state));\r\n    return handles;\r\n};\r\n\n\n//# sourceURL=webpack:///./src/shapes/layered.ts?");

/***/ }),

/***/ "./src/sidebar.ts":
/*!************************!*\
  !*** ./src/sidebar.ts ***!
  \************************/
/*! exports provided: setupSidebar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupSidebar\", function() { return setupSidebar; });\n// Avoids having to bind all functions to \"this\"\r\nfunction setupSidebar(editorUi) {\r\n    const sb = editorUi.sidebar;\r\n    function addPalette(content) {\r\n        const vertexes = [\r\n            AWSconfig,\r\n            StartPoint,\r\n            EndPoint,\r\n            TaskState,\r\n            PassState,\r\n            ChoiceState,\r\n            WaitState,\r\n            SucceedState,\r\n            FailState,\r\n            ParallelState,\r\n            MapState\r\n        ];\r\n        for (const vertex of vertexes) {\r\n            const cell = vertex.prototype.create();\r\n            content.appendChild(sb.createVertexTemplateFromCells([cell], cell.geometry.width, cell.geometry.height, cell.label));\r\n        }\r\n    }\r\n    // Adds custom sidebar entry\r\n    sb.addPalette('awsStepFunctions', 'AWS Step Functions', true, addPalette);\r\n    // Collapses default sidebar entry and inserts this before\r\n    const c = sb.container;\r\n    c.firstChild.click();\r\n    c.insertBefore(c.lastChild, c.firstChild);\r\n    c.insertBefore(c.lastChild, c.firstChild);\r\n}\r\n\n\n//# sourceURL=webpack:///./src/sidebar.ts?");

/***/ }),

/***/ "./src/states/awsconfig.ts":
/*!*********************************!*\
  !*** ./src/states/awsconfig.ts ***!
  \*********************************/
/*! exports provided: AWSconfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AWSconfig\", function() { return AWSconfig; });\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helper */ \"./src/states/helper.ts\");\n\r\nfunction createAWSconfig(awsf) {\r\n    var cell = new mxCell('AWSconfig', new mxGeometry(0, 0, 70, 46), 'dashed=0;html=1;shape=mxgraph.aws2.non-service_specific.cloud;strokeColor=none;verticalLabelPosition=bottom;verticalAlign=top;');\r\n    cell.vertex = true;\r\n    cell.value = mxUtils.createXmlDocument().createElement('object');\r\n    cell.setAttribute('label', 'config');\r\n    cell.setAttribute('type', 'awssfAWSconfig');\r\n    cell.setAttribute('accessKeyId', '');\r\n    cell.setAttribute('secretAccessKey', '');\r\n    cell.setAttribute('region', '');\r\n    cell.awssf = awsf;\r\n    return cell;\r\n}\r\nconst AWSconfig = function () { };\r\nAWSconfig.prototype.create = function () {\r\n    return createAWSconfig(this);\r\n};\r\nAWSconfig.prototype.handler = _helper__WEBPACK_IMPORTED_MODULE_0__[\"awssfStateHandler\"];\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_0__[\"registCodec\"])('AWSconfig', AWSconfig);\r\n\n\n//# sourceURL=webpack:///./src/states/awsconfig.ts?");

/***/ }),

/***/ "./src/states/choice.ts":
/*!******************************!*\
  !*** ./src/states/choice.ts ***!
  \******************************/
/*! exports provided: ChoiceState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChoiceState\", function() { return ChoiceState; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/states/helper.ts\");\n\r\n\r\nconst ChoiceState = function () { };\r\nChoiceState.prototype.type = 'Choice';\r\nChoiceState.prototype.create = function (label, json) {\r\n    if (!json)\r\n        json = {};\r\n    var style = 'shape=stencil(rZZNT4QwEIZ/DddNodmgR8Pi0YsHzl12VpqFlrS46r+3UIl8FNOhJhzgHWaezvBSiGimK9ZClBDBGojoKUqSE5RccynMqdGZbqHsbOTOFGfnGmxEd0re4INfusqGuahA8a6P0jwiT+ae/qBZKYUwRUxNPYtM4qYY48Lkkk9bjBzio+V8/Qj2qjWIBjpQM/V39S9FMUjPCBIl+0ho0L6O0Jh0Xz85GvSwr6EcT1qYIfYjvYabwZsUaAZfTqgZfDnBZvAG4UkkXfjukBz9aAX6ZVqAfDn/0FPqy8J74jHZO8AcO8B43wDxplj35DvA3DVAmhll68NFszMrb29KvouLc4kt6z+Kq8AYbuQdJiNy7aKu1sf0motJunMT9k+Pydzjx0D+WA+xgtAC6AbKWmrYspfRV49vUDeeOc2uUsEfZrjyurY/S06TrbIH1f6XDcI3);whiteSpace=wrap;html=1;gradientColor=none;dashed=1';\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createState\"])(this, label, style, json);\r\n    cell.setAttribute('choices', '');\r\n    cell.setAttribute('default', '');\r\n    return cell;\r\n};\r\nChoiceState.prototype.hiddenAttributes = ['choices', 'default'];\r\nChoiceState.prototype.createDefaultEdge = function () {\r\n    return ChoiceEdge.prototype.create();\r\n};\r\nChoiceState.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (!cell.edges ||\r\n        (cell.edges.filter(function (v) { return (v.source == cell) && _utils__WEBPACK_IMPORTED_MODULE_0__[\"isChoice\"](v); }).length == 0)) {\r\n        res.push(\"A Choice state MUST have more than one choice edge\");\r\n    }\r\n    return _utils__WEBPACK_IMPORTED_MODULE_0__[\"validateCommonAttributes\"](cell, res, false);\r\n};\r\nChoiceState.prototype.expJSON = function (cell, cells) {\r\n    var data = {};\r\n    var label = cell.getAttribute(\"label\");\r\n    data[label] = {\r\n        Type: \"Choice\",\r\n        Choices: []\r\n    };\r\n    if (cell.getAttribute(\"comment\"))\r\n        data[label].Comment = cell.getAttribute(\"comment\");\r\n    if (cell.getAttribute(\"input_path\"))\r\n        data[label].InputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"input_path\"));\r\n    if (cell.getAttribute(\"output_path\"))\r\n        data[label].OutputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"output_path\"));\r\n    if (cell.edges) {\r\n        var sortedEdges = cell.edges.sort(function (a, b) {\r\n            if (Number(a.getAttribute(\"weight\")) > Number(b.getAttribute(\"weight\")))\r\n                return -1;\r\n            if (Number(a.getAttribute(\"weight\")) < Number(b.getAttribute(\"weight\")))\r\n                return 1;\r\n            return 0;\r\n        });\r\n        for (var i in sortedEdges) {\r\n            var edge = sortedEdges[i];\r\n            if (edge.source != cell)\r\n                continue;\r\n            if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isChoice\"](edge)) {\r\n                data[label].Choices.push(edge.awssf.expJSON(edge, cells));\r\n            }\r\n            else if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isDefault\"](edge)) {\r\n                Object.assign(data[label], edge.awssf.expJSON(edge, cells));\r\n            }\r\n        }\r\n    }\r\n    return data;\r\n};\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('ChoiceState', ChoiceState);\r\nvar ChoiceStateHandler = function (state) {\r\n    this.custom = function () {\r\n        this.domNode.appendChild(ChoiceEdge.prototype.createHandlerImage.apply(this, arguments));\r\n        this.domNode.appendChild(DefaultEdge.prototype.createHandlerImage.apply(this, arguments));\r\n    };\r\n    _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"].apply(this, arguments);\r\n};\r\nChoiceState.prototype.handler = ChoiceStateHandler;\r\nmxUtils.extend(ChoiceStateHandler, _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"]);\r\n\n\n//# sourceURL=webpack:///./src/states/choice.ts?");

/***/ }),

/***/ "./src/states/edge.ts":
/*!****************************!*\
  !*** ./src/states/edge.ts ***!
  \****************************/
/*! exports provided: StartAtEdge, NextEdge, RetryEdge, CatchEdge, ChoiceEdge, DefaultEdge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StartAtEdge\", function() { return StartAtEdge; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NextEdge\", function() { return NextEdge; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RetryEdge\", function() { return RetryEdge; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CatchEdge\", function() { return CatchEdge; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ChoiceEdge\", function() { return ChoiceEdge; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DefaultEdge\", function() { return DefaultEdge; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/states/helper.ts\");\n\r\n\r\nconst StartAtEdge = function () { };\r\nStartAtEdge.prototype.type = 'StartAt';\r\nStartAtEdge.prototype.create = function (label, source, target) {\r\n    if (label == null)\r\n        label = this.type;\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createEdge\"])(this, label, 'endArrow=classic;html=1;strokeColor=#000000;strokeWidth=1;fontSize=12;', source, target);\r\n    return cell;\r\n};\r\nStartAtEdge.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (!(cell.source && cell.target)) {\r\n        res.push(\"edge MUST be connected\");\r\n    }\r\n    return res;\r\n};\r\nStartAtEdge.prototype.expJSON = function (cell, cells) {\r\n    if (cell.target != null) {\r\n        var data = {\r\n            StartAt: cells[cell.target.id].getAttribute(\"label\")\r\n        };\r\n        return data;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n};\r\nStartAtEdge.prototype.handler = _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfEdgeHandler\"];\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('StartAtEdge', StartAtEdge);\r\nconst NextEdge = function () { };\r\nNextEdge.prototype.type = 'Next';\r\nNextEdge.prototype.create = function (label, source, target) {\r\n    if (label == null)\r\n        label = this.type;\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createEdge\"])(this, label, 'endArrow=classic;html=1;strokeColor=#000000;strokeWidth=1;fontSize=12;', source, target);\r\n    return cell;\r\n};\r\nNextEdge.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (!(cell.source && cell.target)) {\r\n        res.push(\"edge MUST be connected\");\r\n    }\r\n    return res;\r\n};\r\nNextEdge.prototype.expJSON = function (cell, cells) {\r\n    if (cell.target != null) {\r\n        var data = {\r\n            Next: cells[cell.target.id].getAttribute(\"label\")\r\n        };\r\n        return data;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n};\r\nNextEdge.prototype.createHandlerImage = function () {\r\n    var img = _utils__WEBPACK_IMPORTED_MODULE_0__[\"createHandlerImage\"].call(this, NextEdge, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAB30lEQVRIS72VsU4CQRRFj52ddCZU0tpo4h/YYKkUNhRCYgyJhfIFakNjoR9goiiJiY12kBBsaSDRL9A/EBtojJjLZNhlnIVdjU612Z097819d96bGw6HQ/5ozcWBv77C8zM8PcHqKqyswNLS7Iwi4b0elMvw8AB6dlcqBZubcHYGevYtL1zAYtEP9QW5vDSB3PUNXihAtTr7yO6OgwM4P598OwFXxltbycH2j/v7yROM4dI1kwmkWF+H62v4/ASd5vExCHpxAdvbsL8PNzfBe2n/8hLUYAx35bDwdBqaTchmZ8O1Y2cHrq7M3jFcUd/fA4CFDwagAKencHxsvkdlrm/ivL2F4PKxJAkvC2+1YG0NFhZgbw/q9elwMSSN7sEoc18hLbzRgG4XKhXodCCXM972ae4WdgTXcU9O/JkLvrsLtZpxkuy2uDgdfnRkJIyVueDLy3B3Z+Rpt2Fj47tbvJlP09xmrh9LJSPPxwfMz0fDJzS3Vfa5JQzXPt3efB76fT9cJ7O9aKbPXbjkub017nIvUaTPFU32CWeftBEoa0lsu+T/9Bab5U+7orVf+LSR/VxB4kgkKdRLYvVzG1k1ODw0k8gXRFABdakSTSK3kCqS5qedoZqjv5qhSZ3i2/8FknYly43Hp8kAAAAASUVORK5CYII=');\r\n    return img;\r\n};\r\nNextEdge.prototype.handler = _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfEdgeHandler\"];\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('NextEdge', NextEdge);\r\nconst RetryEdge = function () { };\r\nRetryEdge.prototype.type = 'Retry';\r\nRetryEdge.prototype.create = function (label, source, json, weight) {\r\n    if (label == null)\r\n        label = this.type;\r\n    if (!json)\r\n        json = { ErrorEquals: '', InterValSeconds: 1, MaxAttempts: 3, BackoffRate: 2 };\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createEdge\"])(this, label, 'edgeStyle=orthogonalEdgeStyle;curved=1;html=1;exitX=0.5;exitY=1;entryX=1;entryY=0.5;startArrow=none;startFill=0;jettySize=auto;orthogonalLoop=1;strokeColor=#000000;strokeWidth=1;fontSize=12;', source, source);\r\n    cell.geometry.setTerminalPoint(new mxPoint(0, cell.geometry.height), true);\r\n    cell.geometry.setTerminalPoint(new mxPoint(cell.geometry.width, 0), false);\r\n    // cell.setAttribute('label', '%error_equals%');\r\n    cell.setAttribute('placeholders', 1);\r\n    cell.setAttribute('error_equals', json.ErrorEquals || '');\r\n    cell.setAttribute('interval_seconds', json.IntervalSeconds || '');\r\n    cell.setAttribute('max_attempts', json.MaxAttempts || '');\r\n    cell.setAttribute('backoff_rate', json.BackoffRate || '');\r\n    cell.setAttribute('weight', weight || 1);\r\n    return cell;\r\n};\r\nRetryEdge.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (!(cell.source && cell.target)) {\r\n        res.push(\"edge MUST be connected\");\r\n    }\r\n    if ((cell.source && cell.target) && (cell.source.id != cell.target.id)) {\r\n        res.push(\"retry edge target MUST be self\");\r\n    }\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateNumber\"](cell.getAttribute(\"interval_seconds\")) == false) {\r\n        res.push(\"interval_seconds MUST be a positive integer\");\r\n    }\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateNumber\"](cell.getAttribute(\"max_attempts\")) == false) {\r\n        res.push(\"max_attempts MUST be greater than or equal to 0\");\r\n    }\r\n    if ((_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateNumber\"](cell.getAttribute(\"backoff_rate\")) == false) && (Number(cell.getAttribute(\"backoff_rate\")) >= 1)) {\r\n        res.push(\"backoff_rate MUST be greater than or equal to 1.0\");\r\n    }\r\n    return res;\r\n};\r\nRetryEdge.prototype.expJSON = function (cell, cells) {\r\n    var errors = cell.getAttribute(\"error_equals\");\r\n    errors = errors ? errors.split(/,\\s*/) : [];\r\n    if (cell.target != null) {\r\n        var data = {\r\n            ErrorEquals: errors,\r\n            IntervalSeconds: Number(cell.getAttribute(\"interval_seconds\")),\r\n            MaxAttempts: Number(cell.getAttribute(\"max_attempts\")),\r\n            BackoffRate: Number(cell.getAttribute(\"backoff_rate\"))\r\n        };\r\n        return data;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n};\r\nRetryEdge.prototype.createHandlerImage = function () {\r\n    var img = _utils__WEBPACK_IMPORTED_MODULE_0__[\"createHandlerImage\"].call(this, RetryEdge, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAACCUlEQVRIS7WVTUhUURTHf7NRN+JsUkER3UUI5kJMIoqBMNzkR6C7Elq5UReh0sIkgsCF0yJw5wdi2MYPEAyxLAhcuNBcFKLM4EJ0oU5I+FF648zzNe++d5/MM72rx7vn/M///s9XSCmlOO/EE7C8DUtbcDMfyvKgOHyui30ZMoInDqH9A0z8APl2n3AW1F6HvmqQb5/jBRfA5kkzqCnIwEMrkOHo4E8mYGg5rSdrRq2VEH3g8UuBC+O6seDAtsd4o+cFFrjoWvImJUWkBIbroCBbD3aiYH0XXn6BkW/6nWgfa9VyYIG75bDBZ9bg6VQKpKUCnt+BnQN49B5Wd/QAj8tgsPbfPws8/Bp+HqUM/cDFQpwlgS3TMLriZb/X4QCP7amkJM5zUXDBEGnO+iCkxr8rTyJN4NkZ0FwOHbdhcx8iQ7B/7C0AR2JDqvuTouezmbk7oX9OrU59NgvzcXNldd+FF/eSd+kxv1UIvfehNBeiC3jIOMNozNPV/MY1eNcARTnQNQf9i2bmmuZBqqWpFN7WwK/fJMv3Y0wPkJMJiU5XKaZb5+L2KgLtVfB1A+rH9KQa61w6tDiq13rQQSCs422GDhWgK5stNsuLTkVH+TkfbJ7nEsQ5DvwkEinscWCw8d9EbTOWVKYgAirzRWZ4oE3kZiA7VLrS3qGyR/9rhwatFB97syyXBP4Xec8Ry9TpbfEAAAAASUVORK5CYII=');\r\n    return img;\r\n};\r\nRetryEdge.prototype.handler = _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfEdgeHandler\"];\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('RetryEdge', RetryEdge);\r\nconst CatchEdge = function () { };\r\nCatchEdge.prototype.type = 'Catch';\r\nCatchEdge.prototype.create = function (label, source, target, json, weight) {\r\n    if (label == null)\r\n        label = this.type;\r\n    if (!json)\r\n        json = {};\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createEdge\"])(this, label, 'endArrow=classic;html=1;strokeColor=#000000;strokeWidth=1;fontSize=12;', source, target, json);\r\n    // cell.setAttribute('label', '%error_equals%');\r\n    cell.setAttribute('placeholders', 1);\r\n    cell.setAttribute('error_equals', json.ErrorEquals || '');\r\n    cell.setAttribute('result_path', json.ResultPath || '');\r\n    cell.setAttribute('weight', weight || '1');\r\n    return cell;\r\n};\r\nCatchEdge.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (!(cell.source && cell.target)) {\r\n        res.push(\"edge MUST be connected\");\r\n    }\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateJsonPath\"](cell.getAttribute(\"result_path\")) == false) {\r\n        res.push(\"result_path MUST use only supported jsonpath\");\r\n    }\r\n    return res;\r\n};\r\nCatchEdge.prototype.expJSON = function (cell, cells) {\r\n    var errors = cell.getAttribute(\"error_equals\");\r\n    errors = errors ? errors.split(/,\\s*/) : [];\r\n    if (cell.target != null) {\r\n        var data = {\r\n            ErrorEquals: errors,\r\n            Next: cells[cell.target.id].getAttribute(\"label\")\r\n        };\r\n        if (cell.getAttribute(\"result_path\"))\r\n            //@ts-ignore\r\n            data.ResultPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"result_path\"));\r\n        return data;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n};\r\nCatchEdge.prototype.createHandlerImage = function () {\r\n    var img = _utils__WEBPACK_IMPORTED_MODULE_0__[\"createHandlerImage\"].call(this, CatchEdge, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAACFklEQVRIS7WVT0hUURTGf5NRbsRZBLlImHZKwRREM2Cg48YWoRNE2SIq3BSloxudTToqkUXguBSCDEFsETMtRmqlxSi2CLIg3ESDDEOhlOJmimDi+Ob5/t2Z8RXe1Xv3nfed737nu+d4CoVCgX1anj2Bb2bg+wp8+wB1p+CoH7y+ipRKg+c34XUfrCZBnu2r2gsNYWgbB3lWLDW4AL68qQZVJel4qiWyLSd48gasPKt4ZEdAIALn45ZtK7gwfn7RPbD+x5WE5QQGuOg6cdwpxekuCEbgSCMcOAh/8rCWhvl7kF22EhHtI193a2CAq+Rova8BZ9/B21HIvdfeRYLtHLy4CuufrQn81yE8tbNngI954deWEXgsCJdm4ccXmA3D723jW2gEznbDchzeDDvZD/w0gYuPRRLzah6EYB+kH8DiI3d1EGm8viJzVSHbn8CJy5C6Ax+n3YEXC6vJshBzHu/CJJzshLm77sGbh6AlVoZ5Uz80DcDiQ6csh2rgXBQ2VtWJLcxVmpcraKAHQqPwaQZSt52SWTSXz3a3yJ7ZikuPNX/rVpR7kbjm9PrhWohqvai8zyVCpDlzC2rrwVNV/hJJvNLnwiTus3rdnUdAWPdmFDdUgPatt+gs/7UrFu1nPmzpfi5JzO2glEQihfSSPfVzHURq8KpXk0qVREAFUHq4q0lkZyn3QOanPkNljv7XDHXrFEX8X1YGE8t/bBUwAAAAAElFTkSuQmCC');\r\n    return img;\r\n};\r\nCatchEdge.prototype.handler = _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfEdgeHandler\"];\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('CatchEdge', CatchEdge);\r\nconst ChoiceEdge = function () { };\r\nChoiceEdge.prototype.type = 'Choice';\r\nChoiceEdge.prototype.create = function (label, source, target, json, weight) {\r\n    if (label == null)\r\n        label = this.type;\r\n    if (!json)\r\n        json = {};\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createEdge\"])(this, label, 'endArrow=classic;html=1;strokeColor=#000000;strokeWidth=1;fontSize=12;', source, target);\r\n    // cell.setAttribute('label', '%condition%');\r\n    cell.setAttribute('placeholders', 1);\r\n    cell.setAttribute('condition', _utils__WEBPACK_IMPORTED_MODULE_0__[\"ruleToJSEP\"](json) || '$.foo == 1');\r\n    cell.setAttribute('weight', weight || '1');\r\n    return cell;\r\n};\r\nChoiceEdge.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (!(cell.source && cell.target)) {\r\n        res.push(\"edge MUST be connected\");\r\n    }\r\n    var condition = cell.getAttribute(\"condition\");\r\n    if (condition) {\r\n        try {\r\n            jsep(condition);\r\n        }\r\n        catch (e) {\r\n            res.push(\"invalid jsep.\");\r\n        }\r\n    }\r\n    else {\r\n        res.push(\"condition MUST be defined\");\r\n    }\r\n    return res;\r\n};\r\nChoiceEdge.prototype.expJSON = function (cell, cells) {\r\n    if (cell.target != null) {\r\n        var condition = cell.getAttribute(\"condition\");\r\n        var data;\r\n        if (condition != null) {\r\n            var tree = jsep(condition);\r\n            data = _utils__WEBPACK_IMPORTED_MODULE_0__[\"parseJSEPExpr\"](tree);\r\n        }\r\n        data.Next = cells[cell.target.id].getAttribute(\"label\");\r\n        return data;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n};\r\nChoiceEdge.prototype.createHandlerImage = function () {\r\n    var img = _utils__WEBPACK_IMPORTED_MODULE_0__[\"createHandlerImage\"].call(this, ChoiceEdge, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAACWUlEQVRIS7WVXW/SUBjH/12AGZDSDkkwQ40mytCxmC1z6Fx82RUXiiYz8WvMO/0AXrqPoYkandF4t+iWuSXTRMkcu1OUKbFAAWFCy1ZzaoCe9oDUl3PV5pzzO8/L/3keTtM0DV1WsdpAVlaRLSoICi4ERScEj6PbldYex4LX1F08fyNjM7MN8m1ee5x9GAq5ER8TQb47LQs8ldnG49U8E8p65ErMj0jIzeRT8EerObz9UO3JZeOhWNiL+OiA5V4LTiy+tyTZBjcvXJ8KWDzQ4SSuc/NbllCMHtmLWJhHwOdEHwc0djSkpToWkkVk8nXKEBL72cQglQMdzgrH9Iiggwnk5XoJXwp1/f90mMf3Hzu4vyxBKqvUAycPe3A1to9Wy+0Hn1BX24oM+ftxbTKAQkXF3cVvUBrtvYtRARNhL1Y2y3ixXrJYf3PmQBsuV1Rt7skWdejcsA9nhngsvi9hOVW2lYfZy4OtOuA2Plc1cyITp/w4cciDZ2t5vPtoTz3GxHILSVkzu3dp3I8ogb+2Dz8/7MOFqKB7y7R8MsJj6rgPSxvWsLgcnL6XK6tMryjLWTHvltCJY15Mj4hIpit4ulaw5IOKOZGiWS3khlGKr1JlpKVaS4o1ZRcPV3IWrfc7OdyaOUhLsVPZn43wGD/qBe92/LaICJGpc1Khd+YzlNZt6Q8AsfpGImStUAL6b72laeWfdkWj/IweM/s5ecTYDjqFiISC9JKe+nkT8msSFfRQsR4hUAKMjw3Ym0RmK8kM/SoryMoKgqIL+0XX381Qu0rpeYb+KzDh/AQ2ZmDL5ziOTgAAAABJRU5ErkJggg==');\r\n    return img;\r\n};\r\nChoiceEdge.prototype.handler = _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfEdgeHandler\"];\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('ChoiceEdge', ChoiceEdge);\r\nconst DefaultEdge = function DefaultEdge() { };\r\nDefaultEdge.prototype.type = 'Default';\r\nDefaultEdge.prototype.create = function (label, source, target) {\r\n    if (label == null)\r\n        label = this.type;\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createEdge\"])(this, label, 'endArrow=classic;html=1;strokeColor=#000000;strokeWidth=1;fontSize=12;', source, target);\r\n    return cell;\r\n};\r\nDefaultEdge.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (!(cell.source && cell.target)) {\r\n        res.push(\"edge MUST be connected\");\r\n    }\r\n    return res;\r\n};\r\nDefaultEdge.prototype.expJSON = function (cell, cells) {\r\n    if (cell.target != null) {\r\n        var data = {\r\n            Default: cells[cell.target.id].getAttribute(\"label\")\r\n        };\r\n        return data;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n};\r\nDefaultEdge.prototype.createHandlerImage = function () {\r\n    var img = _utils__WEBPACK_IMPORTED_MODULE_0__[\"createHandlerImage\"].call(this, DefaultEdge, 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAYCAYAAAARfGZ1AAABsklEQVRIS9WVO0sDQRDH/9ek0YAQsEgQFCRpxCaKmuoOQRtN7aOxEVtBP0B8gCARrESwsdI+WoggHkGDoH6ABPGJdhYaEY3Fyma53L5yXoIRHLjmduY3s/PYMQghBB5SfAKeC+wLRdkXDHtZuGeGDl4qArk14NYGSm8qKNAMtJtAYg4IBKs7UuAUaKf0UBlDnZgp5kgnApxCC/v+rsxrdY0BiXnVrgKnER9qFPy6GkqrNyjDaY53Rt1UhHsAaxFoauXQBPgsAndZ4HQV+HoX3dIUTeyJNSjD5XQ48IcckF1mkJYOoHsS6BwGro9YXWSJjrAaOFKGb5tiAXVwx8BaAtoGgFwauDpQo5+yOfjrIyG7SVHJCx5LAv2zQD4DnK2r0Y9n3Dkwbo4JkQvpBfc6o674whoXm4RcbvmPPNIHWAvA/YlbD946Pg3EZ9ifmiP/KS1C5LXmfHAFiPSyqOlsyCLk3G+3+GlF2utCt3j1uTxEHy+s/c431CGiN9D2uTyhfkee16s6oVSpYW+LE0G9ryLffvxt/u49d7w2bBPJxazs0DwQiv3CDq2nW3Q22gX9L+Df4kMPyOkzB4MAAAAASUVORK5CYII=');\r\n    return img;\r\n};\r\nDefaultEdge.prototype.handler = _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfEdgeHandler\"];\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('DefaultEdge', DefaultEdge);\r\n\r\n\n\n//# sourceURL=webpack:///./src/states/edge.ts?");

/***/ }),

/***/ "./src/states/fail.ts":
/*!****************************!*\
  !*** ./src/states/fail.ts ***!
  \****************************/
/*! exports provided: FailState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FailState\", function() { return FailState; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/states/helper.ts\");\n\r\n\r\nconst FailState = function () { };\r\nFailState.prototype.type = 'Fail';\r\nFailState.prototype.create = function (label, json) {\r\n    if (!json)\r\n        json = {};\r\n    var style = 'shape=mxgraph.flowchart.terminator;html=1;whiteSpace=wrap;gradientColor=none;';\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createState\"])(this, label, style, json);\r\n    cell.setAttribute('error', json.Error || '');\r\n    cell.setAttribute('cause', json.Cause || '');\r\n    cell.value.removeAttribute('input_path');\r\n    cell.value.removeAttribute('output_path');\r\n    return cell;\r\n};\r\nFailState.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (cell.edges &&\r\n        (cell.edges.filter(function (v) { return (v.source == cell) && _utils__WEBPACK_IMPORTED_MODULE_0__[\"isAWSsf\"](v); }).length > 0)) {\r\n        res.push(\"A Fail state MUST have no outgoing edge\");\r\n    }\r\n    if (!cell.getAttribute(\"error\")) {\r\n        res.push(\"error MUST have a value\");\r\n    }\r\n    if (!cell.getAttribute(\"cause\")) {\r\n        res.push(\"cause MUST have a value\");\r\n    }\r\n    return _utils__WEBPACK_IMPORTED_MODULE_0__[\"validateCommonAttributes\"](cell, res, false);\r\n};\r\nFailState.prototype.expJSON = function (cell, cells) {\r\n    var data = {};\r\n    var label = cell.getAttribute(\"label\");\r\n    data[label] = {\r\n        Type: \"Fail\",\r\n        Error: cell.getAttribute(\"error\"),\r\n        Cause: cell.getAttribute(\"cause\")\r\n    };\r\n    if (cell.getAttribute(\"comment\"))\r\n        data[label].Comment = cell.getAttribute(\"comment\");\r\n    return data;\r\n};\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('FailState', FailState);\r\nFailState.prototype.handler = _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"];\r\n\n\n//# sourceURL=webpack:///./src/states/fail.ts?");

/***/ }),

/***/ "./src/states/helper.ts":
/*!******************************!*\
  !*** ./src/states/helper.ts ***!
  \******************************/
/*! exports provided: init, registCodec, awssfStateHandler, awssfEdgeHandler, createState, createPoint, createEdge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registCodec\", function() { return registCodec; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"awssfStateHandler\", function() { return awssfStateHandler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"awssfEdgeHandler\", function() { return awssfEdgeHandler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createState\", function() { return createState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createPoint\", function() { return createPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createEdge\", function() { return createEdge; });\nvar ui;\r\nvar graph;\r\nfunction init(editorUi) {\r\n    ui = editorUi;\r\n    graph = editorUi.editor ? editorUi.editor.graph : editorUi.graph;\r\n}\r\nfunction registCodec(name, func) {\r\n    var codec = new mxObjectCodec(new func());\r\n    codec.encode = function (enc, obj) {\r\n        try {\r\n            var data = enc.document.createElement(name);\r\n        }\r\n        catch (e) {\r\n            console.log(\"encode error\", e);\r\n        }\r\n        return data;\r\n    };\r\n    codec.decode = function (dec, node, into) {\r\n        return new func();\r\n    };\r\n    mxCodecRegistry.register(codec);\r\n}\r\nfunction createSettingsIcon() {\r\n    var img = mxUtils.createImage('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAACpklEQVRIS7VVMU9TURg9nWiZoF0k1MQmlKCREhhowUHaScpWdYHoINUORoKTiT+AhMnE6IDigraL2g10amGhxaFGMJHQJiWxBJcWJl6Zas4H9/leH4VKwl2a13vv+c73nfN911ar1Wq4oGVrBpzxq9VDnYLd3gKbzXYmpabAs2s5bBWKCAwOIPstJ7/dXs/5wNMrGfh6e+BytgvA4pcU3J0d6PNdRWp5FZpWxdhoSPbKlT2sb2wieHPIEszC/H08iQNNQ6m0i1DwBhwOu4BPP3kgwUo7u+CZ4MiwBMlkc3C52tDqcODeRMQUwAROVvlCEbHohFz8mFyUw2SpsuA3A/AsAblHAnPzcXi7PAiNDOsBTOBMce5tAk+nJuWCceUL2/qnt+uKaY9EXrx8h9jDcRMJS1nIqFLZx51IWAB+rP+SsjB11p2sy+V9YUwNuD4ll+B0tplY838LuHLG/YnbOnA9I5WhCrAQ/4zuLg8C/gFrzenjjZ+bKO38QWYtp4s3M/vakqq6rQI8f/ZYHPNmPoE+3zW4Oy+h93qP9IEwV+Ixutfrkbpt5YtIr6yKuI0W60z29DwD5PNF6Ye7kTHRTAf/Xdo1NQbB6Rzl55MCUAs6xNhQvHfZ3WEGpyhkTSecm3lhW9jTDDpz1pxdRifQHUrA/6k5LUz30FHsbr3mxpTr3bL0NYVHUbN/lYDhW0d2PNUtRvDGPm+XWlKbcnnP5POmwE/rUAqlVv1EpNtmZl9hemqycYcezZZtxKLjMlsoMld4NGiZLenljIj2b7YkxAwNZwuBmKKmHUrqAX8/WtVUPGZF0Rc+JBEaGcKBVkV27TtcrnY4HC1gVxvXiY8FM6BQzcxzBmPJjIxVgKZfIpaLs4Nu8g/2n/8lqu/GC31DGw6XMzb+An4I4cvYKbPGAAAAAElFTkSuQmCC');\r\n    img.setAttribute('title', 'Settings');\r\n    img.style.cursor = 'pointer';\r\n    img.style.width = '16px';\r\n    img.style.height = '16px';\r\n    return img;\r\n}\r\nconst awssfStateHandler = function (state) {\r\n    mxVertexHandler.apply(this, arguments);\r\n};\r\nawssfStateHandler.prototype = new mxVertexHandler();\r\nawssfStateHandler.prototype.constructor = awssfStateHandler;\r\nawssfStateHandler.prototype.domNode = null;\r\nawssfStateHandler.prototype.init = function () {\r\n    mxVertexHandler.prototype.init.apply(this, arguments);\r\n    this.domNode = document.createElement('div');\r\n    this.domNode.style.position = 'absolute';\r\n    this.domNode.style.whiteSpace = 'nowrap';\r\n    if (this.custom)\r\n        this.custom.apply(this, arguments);\r\n    var img = createSettingsIcon();\r\n    mxEvent.addGestureListeners(img, mxUtils.bind(this, function (evt) { mxEvent.consume(evt); }));\r\n    mxEvent.addListener(img, 'click', mxUtils.bind(this, function (evt) {\r\n        ui.actions.get('editData').funct();\r\n        mxEvent.consume(evt);\r\n    }));\r\n    this.domNode.appendChild(img);\r\n    this.graph.container.appendChild(this.domNode);\r\n    this.redrawTools();\r\n};\r\nawssfStateHandler.prototype.redraw = function () {\r\n    mxVertexHandler.prototype.redraw.apply(this);\r\n    this.redrawTools();\r\n};\r\nawssfStateHandler.prototype.redrawTools = function () {\r\n    if (this.state != null && this.domNode != null) {\r\n        var dy = (mxClient.IS_VML && document.compatMode == 'CSS1Compat') ? 20 : 4;\r\n        this.domNode.style.left = (this.state.x + this.state.width - this.domNode.children.length * 14) + 'px';\r\n        this.domNode.style.top = (this.state.y + this.state.height + dy) + 'px';\r\n    }\r\n};\r\nawssfStateHandler.prototype.destroy = function (sender, me) {\r\n    mxVertexHandler.prototype.destroy.apply(this, arguments);\r\n    if (this.domNode != null) {\r\n        this.domNode.parentNode.removeChild(this.domNode);\r\n        this.domNode = null;\r\n    }\r\n};\r\nconst awssfEdgeHandler = function (state) {\r\n    mxEdgeHandler.apply(this, arguments);\r\n};\r\nawssfEdgeHandler.prototype = new mxEdgeHandler();\r\nawssfEdgeHandler.prototype.constructor = awssfEdgeHandler;\r\nawssfEdgeHandler.prototype.domNode = null;\r\nawssfEdgeHandler.prototype.init = function () {\r\n    mxEdgeHandler.prototype.init.apply(this, arguments);\r\n    this.domNode = document.createElement('div');\r\n    this.domNode.style.position = 'absolute';\r\n    this.domNode.style.whiteSpace = 'nowrap';\r\n    if (this.custom)\r\n        this.custom.apply(this, arguments);\r\n    var img = createSettingsIcon();\r\n    mxEvent.addGestureListeners(img, mxUtils.bind(this, function (evt) { mxEvent.consume(evt); }));\r\n    mxEvent.addListener(img, 'click', mxUtils.bind(this, function (evt) {\r\n        ui.actions.get('editData').funct();\r\n        mxEvent.consume(evt);\r\n    }));\r\n    this.domNode.appendChild(img);\r\n    this.graph.container.appendChild(this.domNode);\r\n    this.redrawTools();\r\n};\r\nawssfEdgeHandler.prototype.redraw = function () {\r\n    mxEdgeHandler.prototype.redraw.apply(this);\r\n    this.redrawTools();\r\n};\r\nawssfEdgeHandler.prototype.redrawTools = function () {\r\n    if (this.state != null && this.domNode != null) {\r\n        var dy = (mxClient.IS_VML && document.compatMode == 'CSS1Compat') ? 20 : 4;\r\n        this.domNode.style.left = (this.labelShape.bounds.x + this.labelShape.bounds.width) + 'px';\r\n        this.domNode.style.top = (this.labelShape.bounds.y) + 'px';\r\n    }\r\n};\r\nawssfEdgeHandler.prototype.destroy = function (sender, me) {\r\n    mxEdgeHandler.prototype.destroy.apply(this, arguments);\r\n    if (this.domNode != null) {\r\n        this.domNode.parentNode.removeChild(this.domNode);\r\n        this.domNode = null;\r\n    }\r\n};\r\nfunction createState(awssf, name, style, json) {\r\n    var label = name || awssf.type;\r\n    if (!style)\r\n        style = 'rounded=1;whiteSpace=wrap;html=1;gradientColor=none;dashed=1';\r\n    if (!json)\r\n        json = {};\r\n    var geometry = new mxGeometry(0, 0, 80, 40);\r\n    var cell = new mxCell(label, geometry, style);\r\n    cell.vertex = true;\r\n    cell.value = mxUtils.createXmlDocument().createElement('object');\r\n    cell.setAttribute('label', label);\r\n    cell.setAttribute('type', 'awssf' + awssf.type);\r\n    cell.setAttribute('comment', json.Comment || '');\r\n    if (!awssf.type.match(/Fail/)) {\r\n        cell.setAttribute('input_path', json.InputPath || '');\r\n        cell.setAttribute('output_path', json.OutputPath || '');\r\n    }\r\n    if (awssf.type.match(/Pass|Task|Parallel|Map/)) {\r\n        cell.setAttribute('parameters', JSON.stringify(json.Parameters) || '');\r\n        cell.setAttribute('result_path', json.ResultPath || '');\r\n    }\r\n    if (awssf.type.match(/Task|Parallel|Map/)) {\r\n        cell.setAttribute('results_selector', JSON.stringify(json.ResultsSelector) || '');\r\n        cell.setAttribute('result_path', json.ResultPath || '');\r\n    }\r\n    cell.awssf = awssf;\r\n    return cell;\r\n}\r\nfunction createPoint(awssf, geometry) {\r\n    var label = awssf.type;\r\n    if (geometry == null) {\r\n        geometry = new mxGeometry(0, 0, 40, 40);\r\n    }\r\n    var cell = new mxCell(label, geometry, 'ellipse;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;');\r\n    cell.vertex = true;\r\n    cell.value = mxUtils.createXmlDocument().createElement('object');\r\n    cell.setAttribute('label', label);\r\n    cell.setAttribute('type', 'awssf' + label);\r\n    cell.awssf = awssf;\r\n    return cell;\r\n}\r\nfunction createEdge(awssf, label, style, source, target, json) {\r\n    var cell = new mxCell(label, new mxGeometry(0, 0, 60, 60), style);\r\n    cell.geometry.setTerminalPoint(new mxPoint(0, 0), true);\r\n    cell.geometry.setTerminalPoint(new mxPoint(cell.geometry.width, cell.geometry.height), false);\r\n    cell.geometry.relative = true;\r\n    cell.edge = true;\r\n    cell.value = mxUtils.createXmlDocument().createElement('object');\r\n    cell.setAttribute('label', label);\r\n    cell.setAttribute('type', 'awssf' + awssf.type);\r\n    cell.awssf = awssf;\r\n    if (source && target) {\r\n        cell.source = source;\r\n        cell.target = target;\r\n    }\r\n    return cell;\r\n}\r\n\n\n//# sourceURL=webpack:///./src/states/helper.ts?");

/***/ }),

/***/ "./src/states/index.ts":
/*!*****************************!*\
  !*** ./src/states/index.ts ***!
  \*****************************/
/*! exports provided: setupStates */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupStates\", function() { return setupStates; });\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helper */ \"./src/states/helper.ts\");\n/* harmony import */ var _shapes_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shapes/index */ \"./src/shapes/index.ts\");\n/* harmony import */ var _awsconfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./awsconfig */ \"./src/states/awsconfig.ts\");\n/* harmony import */ var _choice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./choice */ \"./src/states/choice.ts\");\n/* harmony import */ var _edge__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./edge */ \"./src/states/edge.ts\");\n/* harmony import */ var _fail__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fail */ \"./src/states/fail.ts\");\n/* harmony import */ var _parallel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./parallel */ \"./src/states/parallel.ts\");\n/* harmony import */ var _pass__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pass */ \"./src/states/pass.ts\");\n/* harmony import */ var _point__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./point */ \"./src/states/point.ts\");\n/* harmony import */ var _succeed__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./succeed */ \"./src/states/succeed.ts\");\n/* harmony import */ var _task__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./task */ \"./src/states/task.ts\");\n/* harmony import */ var _wait__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./wait */ \"./src/states/wait.ts\");\n/* harmony import */ var _map__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./map */ \"./src/states/map.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction setupStates(editorUi) {\r\n    _helper__WEBPACK_IMPORTED_MODULE_0__[\"init\"](editorUi);\r\n    _shapes_index__WEBPACK_IMPORTED_MODULE_1__[\"init\"]();\r\n    window['AWSconfig'] = _awsconfig__WEBPACK_IMPORTED_MODULE_2__[\"AWSconfig\"];\r\n    window['ChoiceState'] = _choice__WEBPACK_IMPORTED_MODULE_3__[\"ChoiceState\"];\r\n    window['FailState'] = _fail__WEBPACK_IMPORTED_MODULE_5__[\"FailState\"];\r\n    window['ParallelState'] = _parallel__WEBPACK_IMPORTED_MODULE_6__[\"ParallelState\"];\r\n    window['MapState'] = _map__WEBPACK_IMPORTED_MODULE_12__[\"MapState\"];\r\n    window['PassState'] = _pass__WEBPACK_IMPORTED_MODULE_7__[\"PassState\"];\r\n    window['StartPoint'] = _point__WEBPACK_IMPORTED_MODULE_8__[\"StartPoint\"];\r\n    window['EndPoint'] = _point__WEBPACK_IMPORTED_MODULE_8__[\"EndPoint\"];\r\n    window['SucceedState'] = _succeed__WEBPACK_IMPORTED_MODULE_9__[\"SucceedState\"];\r\n    window['TaskState'] = _task__WEBPACK_IMPORTED_MODULE_10__[\"TaskState\"];\r\n    window['WaitState'] = _wait__WEBPACK_IMPORTED_MODULE_11__[\"WaitState\"];\r\n    window['StartAtEdge'] = _edge__WEBPACK_IMPORTED_MODULE_4__[\"StartAtEdge\"];\r\n    window['NextEdge'] = _edge__WEBPACK_IMPORTED_MODULE_4__[\"NextEdge\"];\r\n    window['RetryEdge'] = _edge__WEBPACK_IMPORTED_MODULE_4__[\"RetryEdge\"];\r\n    window['CatchEdge'] = _edge__WEBPACK_IMPORTED_MODULE_4__[\"CatchEdge\"];\r\n    window['ChoiceEdge'] = _edge__WEBPACK_IMPORTED_MODULE_4__[\"ChoiceEdge\"];\r\n    window['DefaultEdge'] = _edge__WEBPACK_IMPORTED_MODULE_4__[\"DefaultEdge\"];\r\n}\r\n\n\n//# sourceURL=webpack:///./src/states/index.ts?");

/***/ }),

/***/ "./src/states/map.ts":
/*!***************************!*\
  !*** ./src/states/map.ts ***!
  \***************************/
/*! exports provided: MapState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MapState\", function() { return MapState; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/states/helper.ts\");\n\r\n\r\nconst MapState = function () { };\r\nMapState.prototype.type = 'Map';\r\nMapState.prototype.create = function (label, json) {\r\n    if (!json)\r\n        json = {};\r\n    var style = 'swimlane;whiteSpace=wrap;html=1;dashed=1;gradientColor=none;shape=awssf.layered;dx=10;container=1;recursiveResize=0';\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createState\"])(this, label, style, json);\r\n    var pt = cell.getGeometry();\r\n    cell.setGeometry(new mxGeometry(pt.x, pt.y, 300, 200));\r\n    cell.setAttribute('items_path', json.ItemsPath || '');\r\n    cell.setAttribute('max_concurrency', json.MaxConcurrency || '');\r\n    cell.setAttribute('iterator', '');\r\n    var sp = StartPoint.prototype.create(new mxGeometry((cell.geometry.width - 30) / 2, 40, 30, 30));\r\n    cell.insert(sp);\r\n    return cell;\r\n};\r\nMapState.prototype.hiddenAttributes = ['iterator'];\r\nMapState.prototype.createDefaultEdge = function (src) {\r\n    for (var i in src.edges) {\r\n        var edge = src.edges[i];\r\n        if ((edge.source == src) && _utils__WEBPACK_IMPORTED_MODULE_0__[\"isNext\"](edge))\r\n            return CatchEdge.prototype.create();\r\n    }\r\n    return NextEdge.prototype.create();\r\n};\r\nMapState.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateJson\"](cell.getAttribute(\"parameters\")) == false) {\r\n        res.push(\"parameters MUST be valid JSON\");\r\n    }\r\n    return _utils__WEBPACK_IMPORTED_MODULE_0__[\"validateCommonAttributes\"](cell, res, true);\r\n};\r\nMapState.prototype.expJSON = function (cell, cells) {\r\n    const data = {};\r\n    const label = cell.getAttribute(\"label\");\r\n    data[label] = {\r\n        Type: \"Map\",\r\n        Iterator: {}\r\n    };\r\n    if (cell.getAttribute(\"parameters\"))\r\n        data[label].Parameters = JSON.parse(cell.getAttribute(\"parameters\"));\r\n    if (cell.getAttribute(\"results_selector\"))\r\n        data[label].ResultSelector = JSON.parse(cell.getAttribute(\"results_selector\"));\r\n    if (cell.getAttribute(\"comment\"))\r\n        data[label].Comment = cell.getAttribute(\"comment\");\r\n    if (cell.getAttribute(\"input_path\"))\r\n        data[label].InputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"input_path\"));\r\n    if (cell.getAttribute(\"output_path\"))\r\n        data[label].OutputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"output_path\"));\r\n    if (cell.getAttribute(\"result_path\"))\r\n        data[label].ResultPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"result_path\"));\r\n    if (cell.getAttribute(\"items_path\"))\r\n        data[label].ItemsPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"items_path\"));\r\n    if (cell.getAttribute(\"max_concurrency\"))\r\n        data[label].MaxConcurrency = Number(cell.getAttribute(\"max_concurrency\"));\r\n    let start;\r\n    for (const i in cell.children) {\r\n        const child = cell.children[i];\r\n        if (!_utils__WEBPACK_IMPORTED_MODULE_0__[\"isStart\"](child))\r\n            continue;\r\n        for (const j in child.edges) {\r\n            const edge = child.edges[j];\r\n            if (edge.target == child)\r\n                continue;\r\n            if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isStartAt\"](edge)) {\r\n                start = cells[edge.target.id];\r\n            }\r\n        }\r\n    }\r\n    function traceAll(state, res) {\r\n        res.push(state);\r\n        for (const j in state.edges) {\r\n            const edge = state.edges[j];\r\n            if (edge.target == state)\r\n                continue;\r\n            traceAll(cells[edge.target.id], res);\r\n        }\r\n        return res;\r\n    }\r\n    const branch = [];\r\n    traceAll(start, branch);\r\n    const states = {};\r\n    for (const child of branch) {\r\n        if (child.value == null || typeof (child.value) != \"object\")\r\n            continue;\r\n        if (!_utils__WEBPACK_IMPORTED_MODULE_0__[\"isAWSsf\"](child))\r\n            continue;\r\n        if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isStart\"](child) || _utils__WEBPACK_IMPORTED_MODULE_0__[\"isEnd\"](cell))\r\n            continue;\r\n        if (child.isVertex()) {\r\n            if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isMap\"](child))\r\n                continue;\r\n            if (child.awssf && child.awssf.expJSON) {\r\n                Object.assign(states, child.awssf.expJSON(child, cells));\r\n            }\r\n        }\r\n    }\r\n    data[label].Iterator = {\r\n        StartAt: start.getAttribute(\"label\"),\r\n        States: states\r\n    };\r\n    let existNextEdge = false;\r\n    if (cell.edges) {\r\n        var sortedEdges = cell.edges.sort(function (a, b) {\r\n            if (Number(a.getAttribute(\"weight\")) > Number(b.getAttribute(\"weight\")))\r\n                return -1;\r\n            if (Number(a.getAttribute(\"weight\")) < Number(b.getAttribute(\"weight\")))\r\n                return 1;\r\n            return 0;\r\n        });\r\n        for (const i in sortedEdges) {\r\n            const edge = sortedEdges[i];\r\n            if (edge.source != cell)\r\n                continue;\r\n            if (edge.awssf.expJSON) {\r\n                if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isRetry\"](edge)) {\r\n                    if (!data[label][\"Retry\"])\r\n                        data[label][\"Retry\"] = [];\r\n                    data[label][\"Retry\"].push(edge.awssf.expJSON(edge, cells));\r\n                }\r\n                else if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isCatch\"](edge)) {\r\n                    if (!data[label][\"Catch\"])\r\n                        data[label][\"Catch\"] = [];\r\n                    data[label][\"Catch\"].push(edge.awssf.expJSON(edge, cells));\r\n                }\r\n                else if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isNext\"](edge)) {\r\n                    existNextEdge = true;\r\n                    Object.assign(data[label], edge.awssf.expJSON(edge, cells));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (existNextEdge == false || data[label].Next == 'End') {\r\n        delete data[label]['Next'];\r\n        data[label][\"End\"] = true;\r\n    }\r\n    return data;\r\n};\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('MapState', MapState);\r\nvar MapStateHandler = function (state) {\r\n    this.custom = function () {\r\n        this.domNode.appendChild(NextEdge.prototype.createHandlerImage.apply(this, arguments));\r\n        this.domNode.appendChild(CatchEdge.prototype.createHandlerImage.apply(this, arguments));\r\n        this.domNode.appendChild(RetryEdge.prototype.createHandlerImage.apply(this, arguments));\r\n    };\r\n    _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"].apply(this, arguments);\r\n};\r\nMapState.prototype.handler = MapStateHandler;\r\nmxUtils.extend(MapStateHandler, _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"]);\r\n\n\n//# sourceURL=webpack:///./src/states/map.ts?");

/***/ }),

/***/ "./src/states/parallel.ts":
/*!********************************!*\
  !*** ./src/states/parallel.ts ***!
  \********************************/
/*! exports provided: ParallelState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ParallelState\", function() { return ParallelState; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/states/helper.ts\");\n\r\n\r\nconst ParallelState = function () { };\r\nParallelState.prototype.type = 'Parallel';\r\nParallelState.prototype.create = function (label, json) {\r\n    if (!json)\r\n        json = {};\r\n    var style = 'swimlane;whiteSpace=wrap;html=1;dashed=1;gradientColor=none';\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createState\"])(this, label, style, json);\r\n    var pt = cell.getGeometry();\r\n    cell.setGeometry(new mxGeometry(pt.x, pt.y, 480, 200));\r\n    cell.setAttribute('branches', '');\r\n    var sp = StartPoint.prototype.create(new mxGeometry((cell.geometry.width - 30) / 2, 40, 30, 30));\r\n    cell.insert(sp);\r\n    if (Object.keys(json).length === 0) {\r\n        var task1 = TaskState.prototype.create();\r\n        task1.setGeometry(new mxGeometry(80, 80, task1.geometry.width, task1.geometry.height));\r\n        cell.insert(task1);\r\n        var edge1 = StartAtEdge.prototype.create('StartAt', sp, task1);\r\n        cell.insert(edge1);\r\n        var task2 = TaskState.prototype.create();\r\n        task2.setGeometry(new mxGeometry(320, 80, task2.geometry.width, task2.geometry.height));\r\n        cell.insert(task2);\r\n        var edge2 = StartAtEdge.prototype.create('StartAt', sp, task2);\r\n        cell.insert(edge2);\r\n    }\r\n    return cell;\r\n};\r\nParallelState.prototype.hiddenAttributes = ['branches'];\r\nParallelState.prototype.createDefaultEdge = function (src) {\r\n    for (var i in src.edges) {\r\n        var edge = src.edges[i];\r\n        if ((edge.source == src) && _utils__WEBPACK_IMPORTED_MODULE_0__[\"isNext\"](edge))\r\n            return CatchEdge.prototype.create();\r\n    }\r\n    return NextEdge.prototype.create();\r\n};\r\nParallelState.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateJson\"](cell.getAttribute(\"parameters\")) == false) {\r\n        res.push(\"parameters MUST be valid JSON\");\r\n    }\r\n    return _utils__WEBPACK_IMPORTED_MODULE_0__[\"validateCommonAttributes\"](cell, res, true);\r\n};\r\nParallelState.prototype.expJSON = function (cell, cells) {\r\n    const data = {};\r\n    const label = cell.getAttribute(\"label\");\r\n    data[label] = {\r\n        Type: \"Parallel\",\r\n        Branches: []\r\n    };\r\n    if (cell.getAttribute(\"parameters\"))\r\n        data[label].Parameters = JSON.parse(cell.getAttribute(\"parameters\"));\r\n    if (cell.getAttribute(\"comment\"))\r\n        data[label].Comment = cell.getAttribute(\"comment\");\r\n    if (cell.getAttribute(\"input_path\"))\r\n        data[label].InputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"input_path\"));\r\n    if (cell.getAttribute(\"output_path\"))\r\n        data[label].OutputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"output_path\"));\r\n    if (cell.getAttribute(\"result_path\"))\r\n        data[label].ResultPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"result_path\"));\r\n    const startat = [];\r\n    for (const child of cell.children) {\r\n        if (!_utils__WEBPACK_IMPORTED_MODULE_0__[\"isStart\"](child))\r\n            continue;\r\n        for (const edge of child.edges) {\r\n            if (edge.target == child)\r\n                continue;\r\n            if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isStartAt\"](edge)) {\r\n                startat.push(cells[edge.target.id]);\r\n            }\r\n        }\r\n    }\r\n    function traceAll(state, res) {\r\n        res.push(state);\r\n        for (var j in state.edges) {\r\n            var edge = state.edges[j];\r\n            if (edge.target == state)\r\n                continue;\r\n            traceAll(cells[edge.target.id], res);\r\n        }\r\n        return res;\r\n    }\r\n    for (const start of startat) {\r\n        const branch = [];\r\n        traceAll(start, branch);\r\n        const states = {};\r\n        for (const child of branch) {\r\n            if (child.value == null || typeof (child.value) != \"object\")\r\n                continue;\r\n            if (!_utils__WEBPACK_IMPORTED_MODULE_0__[\"isAWSsf\"](child))\r\n                continue;\r\n            if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isStart\"](child) || _utils__WEBPACK_IMPORTED_MODULE_0__[\"isEnd\"](cell))\r\n                continue;\r\n            if (child.isVertex()) {\r\n                if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isParallel\"](child))\r\n                    continue;\r\n                if (child.awssf && child.awssf.expJSON) {\r\n                    Object.assign(states, child.awssf.expJSON(child, cells));\r\n                }\r\n            }\r\n        }\r\n        data[label].Branches.push({\r\n            StartAt: start.getAttribute(\"label\"),\r\n            States: states\r\n        });\r\n    }\r\n    let existNextEdge = false;\r\n    if (cell.edges) {\r\n        const sortedEdges = cell.edges.sort(function (a, b) {\r\n            if (Number(a.getAttribute(\"weight\")) > Number(b.getAttribute(\"weight\")))\r\n                return -1;\r\n            if (Number(a.getAttribute(\"weight\")) < Number(b.getAttribute(\"weight\")))\r\n                return 1;\r\n            return 0;\r\n        });\r\n        for (const edge of sortedEdges) {\r\n            if (edge.source != cell)\r\n                continue;\r\n            if (edge.awssf.expJSON) {\r\n                if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isRetry\"](edge)) {\r\n                    if (!data[label][\"Retry\"])\r\n                        data[label][\"Retry\"] = [];\r\n                    data[label][\"Retry\"].push(edge.awssf.expJSON(edge, cells));\r\n                }\r\n                else if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isCatch\"](edge)) {\r\n                    if (!data[label][\"Catch\"])\r\n                        data[label][\"Catch\"] = [];\r\n                    data[label][\"Catch\"].push(edge.awssf.expJSON(edge, cells));\r\n                }\r\n                else if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isNext\"](edge)) {\r\n                    existNextEdge = true;\r\n                    Object.assign(data[label], edge.awssf.expJSON(edge, cells));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (existNextEdge == false || data[label].Next == 'End') {\r\n        delete data[label]['Next'];\r\n        data[label][\"End\"] = true;\r\n    }\r\n    return data;\r\n};\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('ParallelState', ParallelState);\r\nvar ParallelStateHandler = function (state) {\r\n    this.custom = function () {\r\n        this.domNode.appendChild(NextEdge.prototype.createHandlerImage.apply(this, arguments));\r\n        this.domNode.appendChild(CatchEdge.prototype.createHandlerImage.apply(this, arguments));\r\n        this.domNode.appendChild(RetryEdge.prototype.createHandlerImage.apply(this, arguments));\r\n    };\r\n    _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"].apply(this, arguments);\r\n};\r\nParallelState.prototype.handler = ParallelStateHandler;\r\nmxUtils.extend(ParallelStateHandler, _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"]);\r\n\n\n//# sourceURL=webpack:///./src/states/parallel.ts?");

/***/ }),

/***/ "./src/states/pass.ts":
/*!****************************!*\
  !*** ./src/states/pass.ts ***!
  \****************************/
/*! exports provided: PassState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PassState\", function() { return PassState; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/states/helper.ts\");\n\r\n\r\nconst PassState = function () { };\r\nPassState.prototype.type = 'Pass';\r\nPassState.prototype.create = function (label, json) {\r\n    if (!json)\r\n        json = {};\r\n    var style = 'shape=mxgraph.flowchart.process;whiteSpace=wrap;gradientColor=none;html=1;';\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createState\"])(this, label, style, json);\r\n    cell.setAttribute('parameters', JSON.stringify(json.Parameters) || '');\r\n    cell.value.setAttribute('result', json.Result || '');\r\n    cell.value.setAttribute('result_path', json.ResultPath || '');\r\n    return cell;\r\n};\r\nPassState.prototype.createDefaultEdge = function (src) {\r\n    for (var i in src.edges) {\r\n        var edge = src.edges[i];\r\n        if ((edge.source == src) && _utils__WEBPACK_IMPORTED_MODULE_0__[\"isNext\"](edge))\r\n            return null;\r\n    }\r\n    return NextEdge.prototype.create();\r\n};\r\nPassState.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateJson\"](cell.getAttribute(\"parameters\")) == false) {\r\n        res.push(\"parameters MUST be valid JSON\");\r\n    }\r\n    return _utils__WEBPACK_IMPORTED_MODULE_0__[\"validateCommonAttributes\"](cell, res, true);\r\n};\r\nPassState.prototype.expJSON = function (cell, cells) {\r\n    var data = {};\r\n    var label = cell.getAttribute(\"label\");\r\n    data[label] = {\r\n        Type: \"Pass\"\r\n    };\r\n    if (cell.getAttribute(\"parameters\"))\r\n        data[label].Parameters = JSON.parse(cell.getAttribute(\"parameters\"));\r\n    if (cell.getAttribute(\"comment\"))\r\n        data[label].Comment = cell.getAttribute(\"comment\");\r\n    if (cell.getAttribute(\"input_path\"))\r\n        data[label].InputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"input_path\"));\r\n    if (cell.getAttribute(\"output_path\"))\r\n        data[label].OutputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"output_path\"));\r\n    if (cell.getAttribute(\"result_path\"))\r\n        data[label].ResultPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"result_path\"));\r\n    if (cell.getAttribute(\"result\"))\r\n        data[label].Result = cell.getAttribute(\"result\");\r\n    var existNextEdge = false;\r\n    for (var i in cell.edges) {\r\n        var edge = cell.edges[i];\r\n        if (edge.source != cell)\r\n            continue;\r\n        if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isNext\"](edge)) {\r\n            existNextEdge = true;\r\n            Object.assign(data[label], edge.awssf.expJSON(edge, cells));\r\n        }\r\n    }\r\n    if (existNextEdge == false || data[label].Next == 'End') {\r\n        delete data[label]['Next'];\r\n        data[label][\"End\"] = true;\r\n    }\r\n    return data;\r\n};\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('PassState', PassState);\r\nvar PassStateHandler = function (state) {\r\n    this.custom = function () {\r\n        this.domNode.appendChild(NextEdge.prototype.createHandlerImage.apply(this, arguments));\r\n    };\r\n    _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"].apply(this, arguments);\r\n};\r\nPassState.prototype.handler = PassStateHandler;\r\nmxUtils.extend(PassStateHandler, _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"]);\r\n\n\n//# sourceURL=webpack:///./src/states/pass.ts?");

/***/ }),

/***/ "./src/states/point.ts":
/*!*****************************!*\
  !*** ./src/states/point.ts ***!
  \*****************************/
/*! exports provided: StartPoint, EndPoint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StartPoint\", function() { return StartPoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EndPoint\", function() { return EndPoint; });\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helper */ \"./src/states/helper.ts\");\n\r\nconst StartPoint = function () { };\r\nStartPoint.prototype.type = 'Start';\r\nStartPoint.prototype.create = function (geometry) {\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_0__[\"createPoint\"])(this, geometry);\r\n    return cell;\r\n};\r\nStartPoint.prototype.createDefaultEdge = function () {\r\n    return StartAtEdge.prototype.create();\r\n};\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_0__[\"registCodec\"])('StartPoint', StartPoint);\r\nconst EndPoint = function () { };\r\nEndPoint.prototype.type = 'End';\r\nEndPoint.prototype.create = function () {\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_0__[\"createPoint\"])(this);\r\n    return cell;\r\n};\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_0__[\"registCodec\"])('EndPoint', EndPoint);\r\n\r\n\n\n//# sourceURL=webpack:///./src/states/point.ts?");

/***/ }),

/***/ "./src/states/succeed.ts":
/*!*******************************!*\
  !*** ./src/states/succeed.ts ***!
  \*******************************/
/*! exports provided: SucceedState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SucceedState\", function() { return SucceedState; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/states/helper.ts\");\n\r\n\r\nconst SucceedState = function () { };\r\nSucceedState.prototype.type = 'Succeed';\r\nSucceedState.prototype.create = function (label, json) {\r\n    if (!json)\r\n        json = {};\r\n    var style = 'shape=mxgraph.flowchart.terminator;html=1;whiteSpace=wrap;gradientColor=none;';\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createState\"])(this, label, style, json);\r\n    return cell;\r\n};\r\nSucceedState.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (cell.edges &&\r\n        (cell.edges.filter(function (v) { return (v.source == cell) && _utils__WEBPACK_IMPORTED_MODULE_0__[\"isAWSsf\"](v); }).length > 0)) {\r\n        res.push(\"A Succeed state MUST have no outgoing edge\");\r\n    }\r\n    return _utils__WEBPACK_IMPORTED_MODULE_0__[\"validateCommonAttributes\"](cell, res, false);\r\n};\r\nSucceedState.prototype.expJSON = function (cell, cells) {\r\n    var data = {};\r\n    var label = cell.getAttribute(\"label\");\r\n    data[label] = {\r\n        Type: \"Succeed\"\r\n    };\r\n    if (cell.getAttribute(\"comment\"))\r\n        data[label].Comment = cell.getAttribute(\"comment\");\r\n    if (cell.getAttribute(\"input_path\"))\r\n        data[label].InputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"input_path\"));\r\n    if (cell.getAttribute(\"output_path\"))\r\n        data[label].OutputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"output_path\"));\r\n    return data;\r\n};\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('SucceedState', SucceedState);\r\nSucceedState.prototype.handler = _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"];\r\n\n\n//# sourceURL=webpack:///./src/states/succeed.ts?");

/***/ }),

/***/ "./src/states/task.ts":
/*!****************************!*\
  !*** ./src/states/task.ts ***!
  \****************************/
/*! exports provided: TaskState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TaskState\", function() { return TaskState; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/states/helper.ts\");\n\r\n\r\nconst TaskState = function () { };\r\nTaskState.prototype.type = 'Task';\r\nTaskState.prototype.create = function (label, json) {\r\n    if (!json)\r\n        json = {};\r\n    var style = 'shape=stencil(rZVNb4MwDIZ/DdcqkI2P48S6Y1Wph51TMCMqTVDC2m2/fiEBdUCyAavExa+xH78BjIdTWZIavAAxcgYPP3tBsBeQQ0EZ5EreC56BlEpWQWluCJEJryZMYhMSWUPWGO1CBCXHCkxGNoKf4ErzputAWQmCNm0Wbz30pO5pL5xmnDHVhHImB5kfedWMUKZq0YdphjaPBvPZxSaqFeEMDYiBerO508LLaow/D3NYihl66aF/YV4XYvx1mO3iQ0PBiIT8mazdUk8WWBLPhB2Ww/r3foWz5cc4gc13ZoPhVCmujw2nR5Kd3gR/Z7l1RJ0R7cfuem2tC2K0PojIJP3qpgw3kR+FcYSihzhIEuy7hnaMhtOCC/hl5oJWldlDroOvSbueJok+feYXuPmNLH5tbfvqSu1TV3XoLteWHYOp3X0/P4n/L0Oj8js70jWT56tV8/vSwjc=);whiteSpace=wrap;gradientColor=none;html=1;';\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createState\"])(this, label, style, json);\r\n    cell.setAttribute('resource', json.Resource || '');\r\n    cell.setAttribute('timeout_seconds', json.TimeoutSeconds || 60);\r\n    cell.setAttribute('heartbeat_seconds', json.HeartbeatSeconds || '');\r\n    cell.setAttribute('results_selector', json.ResultsSelector || '');\r\n    return cell;\r\n};\r\nTaskState.prototype.createDefaultEdge = function (src) {\r\n    for (var i in src.edges) {\r\n        var edge = src.edges[i];\r\n        if ((edge.source == src) && _utils__WEBPACK_IMPORTED_MODULE_0__[\"isNext\"](edge))\r\n            return CatchEdge.prototype.create();\r\n    }\r\n    return NextEdge.prototype.create();\r\n};\r\nTaskState.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (!cell.getAttribute(\"resource\") || !cell.getAttribute(\"resource\").match(/^arn:[^:]+:(states|lambda):[^:]*:[^:]*:[^:]+:.+/)) {\r\n        res.push(\"resource MUST be a URI that uniquely identifies the specific task to execute\");\r\n    }\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateJson\"](cell.getAttribute(\"parameters\")) == false) {\r\n        res.push(\"parameters MUST be valid JSON\");\r\n    }\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateJson\"](cell.getAttribute(\"results_selector\")) == false) {\r\n        res.push(\"results_selector MUST be valid JSON\");\r\n    }\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateNumber\"](cell.getAttribute(\"timeout_seconds\")) == false) {\r\n        res.push(\"timeout_seconds MUST be number\");\r\n    }\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateNumber\"](cell.getAttribute(\"heartbeat_seconds\")) == false) {\r\n        res.push(\"heartbeat_seconds MUST be number\");\r\n    }\r\n    else {\r\n        if (Number(cell.getAttribute(\"heartbeat_seconds\")) >= Number(cell.getAttribute(\"timeout_seconds\"))) {\r\n            res.push(\"heartbeat_seconds MUST be smaller than timeout_seconds\");\r\n        }\r\n    }\r\n    return _utils__WEBPACK_IMPORTED_MODULE_0__[\"validateCommonAttributes\"](cell, res, true);\r\n};\r\nTaskState.prototype.orderedAttributes = [\r\n    \"label\", \"type\",\r\n    \"resource\", \"parameters\", \"results_selector\",\r\n    \"input_path\", \"output_path\", \"result_path\",\r\n    \"timeout_seconds\", \"heartbeat_seconds\", \"comment\"\r\n];\r\nTaskState.prototype.expJSON = function (cell, cells) {\r\n    var data = {};\r\n    var label = cell.getAttribute(\"label\");\r\n    data[label] = {\r\n        Type: \"Task\",\r\n        Resource: cell.getAttribute(\"resource\")\r\n    };\r\n    if (cell.getAttribute(\"parameters\")) {\r\n        var value = cell.getAttribute(\"parameters\");\r\n        if (value) {\r\n            if (value[0] === \"{\") {\r\n                if (value !== \"{}\")\r\n                    data[label].Parameters = JSON.parse(value);\r\n            }\r\n            else {\r\n                data[label].Parameters = value;\r\n            }\r\n        }\r\n    }\r\n    if (cell.getAttribute(\"results_selector\")) {\r\n        var value = cell.getAttribute(\"results_selector\");\r\n        if (value) {\r\n            if (value[0] === \"{\") {\r\n                if (value !== \"{}\")\r\n                    data[label].ResultsSelector = JSON.parse(value);\r\n            }\r\n            else {\r\n                data[label].ResultsSelector = value;\r\n            }\r\n        }\r\n    }\r\n    if (cell.getAttribute(\"comment\"))\r\n        data[label].Comment = cell.getAttribute(\"comment\");\r\n    if (cell.getAttribute(\"input_path\"))\r\n        data[label].InputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"input_path\"));\r\n    if (cell.getAttribute(\"output_path\"))\r\n        data[label].OutputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"output_path\"));\r\n    if (cell.getAttribute(\"result_path\"))\r\n        data[label].ResultPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"result_path\"));\r\n    if (cell.getAttribute(\"timeout_seconds\"))\r\n        data[label].TimeoutSeconds = Number(cell.getAttribute(\"timeout_seconds\"));\r\n    if (cell.getAttribute(\"heartbeat_seconds\"))\r\n        data[label].HeartbeatSeconds = Number(cell.getAttribute(\"heartbeat_seconds\"));\r\n    var existNextEdge = false;\r\n    if (cell.edges) {\r\n        var sortedEdges = cell.edges.sort(function (a, b) {\r\n            if (Number(a.getAttribute(\"weight\")) > Number(b.getAttribute(\"weight\")))\r\n                return -1;\r\n            if (Number(a.getAttribute(\"weight\")) < Number(b.getAttribute(\"weight\")))\r\n                return 1;\r\n            return 0;\r\n        });\r\n        for (var i in sortedEdges) {\r\n            var edge = sortedEdges[i];\r\n            if (edge.source != cell)\r\n                continue;\r\n            if (edge.awssf && edge.awssf.expJSON) {\r\n                if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isRetry\"](edge)) {\r\n                    if (!data[label][\"Retry\"])\r\n                        data[label][\"Retry\"] = [];\r\n                    data[label][\"Retry\"].push(edge.awssf.expJSON(edge, cells));\r\n                }\r\n                else if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isCatch\"](edge)) {\r\n                    if (!data[label][\"Catch\"])\r\n                        data[label][\"Catch\"] = [];\r\n                    data[label][\"Catch\"].push(edge.awssf.expJSON(edge, cells));\r\n                }\r\n                else if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isNext\"](edge)) {\r\n                    existNextEdge = true;\r\n                    Object.assign(data[label], edge.awssf.expJSON(edge, cells));\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (existNextEdge == false || data[label].Next == 'End') {\r\n        delete data[label]['Next'];\r\n        data[label][\"End\"] = true;\r\n    }\r\n    return data;\r\n};\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('TaskState', TaskState);\r\nvar TaskStateHandler = function (state) {\r\n    this.custom = function () {\r\n        this.domNode.appendChild(NextEdge.prototype.createHandlerImage.apply(this, arguments));\r\n        this.domNode.appendChild(CatchEdge.prototype.createHandlerImage.apply(this, arguments));\r\n        this.domNode.appendChild(RetryEdge.prototype.createHandlerImage.apply(this, arguments));\r\n    };\r\n    _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"].apply(this, arguments);\r\n};\r\nTaskState.prototype.handler = TaskStateHandler;\r\nmxUtils.extend(TaskStateHandler, _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"]);\r\n\n\n//# sourceURL=webpack:///./src/states/task.ts?");

/***/ }),

/***/ "./src/states/wait.ts":
/*!****************************!*\
  !*** ./src/states/wait.ts ***!
  \****************************/
/*! exports provided: WaitState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WaitState\", function() { return WaitState; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.ts\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/states/helper.ts\");\n\r\n\r\nconst WaitState = function () { };\r\nWaitState.prototype.type = 'Wait';\r\nWaitState.prototype.create = function (label, json) {\r\n    if (!json)\r\n        json = {};\r\n    var style = 'shape=mxgraph.flowchart.delay;whiteSpace=wrap;gradientColor=none;html=1;';\r\n    var cell = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"createState\"])(this, label, style, json);\r\n    var found = false;\r\n    var options = WaitState.prototype.cst.DURATION_FORMAT;\r\n    for (var j in options) {\r\n        var key = _utils__WEBPACK_IMPORTED_MODULE_0__[\"camelToSnake\"](options[j]);\r\n        if (json[options[j]]) {\r\n            cell.setAttribute(key, json[options[j]]);\r\n            found = true;\r\n        }\r\n        else {\r\n            cell.value.removeAttribute(key);\r\n        }\r\n    }\r\n    if (!found)\r\n        cell.setAttribute('seconds', '');\r\n    return cell;\r\n};\r\nWaitState.prototype.createDefaultEdge = function (src) {\r\n    for (var i in src.edges) {\r\n        var edge = src.edges[i];\r\n        if ((edge.source == src) && _utils__WEBPACK_IMPORTED_MODULE_0__[\"isNext\"](edge))\r\n            return null;\r\n    }\r\n    return NextEdge.prototype.create();\r\n};\r\nWaitState.prototype.cst = {\r\n    DURATION_FORMAT: [\"Seconds\", \"SecondsPath\", \"Timestamp\", \"TimestampPath\"]\r\n};\r\nWaitState.prototype.validate = function (cell, res) {\r\n    if (!res)\r\n        res = [];\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateNumber\"](cell.getAttribute(\"seconds\")) == false) {\r\n        res.push(\"seconds MUST be number\");\r\n    }\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateTimestamp\"](cell.getAttribute(\"timestamp\")) == false) {\r\n        res.push(\"timestamp MUST be valid formated\");\r\n    }\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateJsonPath\"](cell.getAttribute(\"seconds_path\")) == false) {\r\n        res.push(\"second_path MUST use only supported jsonpath\");\r\n    }\r\n    if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"validateJsonPath\"](cell.getAttribute(\"timestamp_path\")) == false) {\r\n        res.push(\"timestamp_path MUST use only supported jsonpath\");\r\n    }\r\n    if (!(cell.getAttribute(\"seconds\") || cell.getAttribute(\"timestamp\") || cell.getAttribute(\"seconds_path\") || cell.getAttribute(\"timestamp_path\"))) {\r\n        res.push('A Wait state MUST contain exactly one of ”Seconds”, “SecondsPath”, “Timestamp”, or “TimestampPath”');\r\n    }\r\n    return _utils__WEBPACK_IMPORTED_MODULE_0__[\"validateCommonAttributes\"](cell, res, false);\r\n};\r\nWaitState.prototype.expJSON = function (cell, cells) {\r\n    var data = {};\r\n    var label = cell.getAttribute(\"label\");\r\n    data[label] = {\r\n        Type: \"Wait\"\r\n    };\r\n    if (cell.getAttribute(\"comment\"))\r\n        data[label].Comment = cell.getAttribute(\"comment\");\r\n    if (cell.getAttribute(\"input_path\"))\r\n        data[label].InputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"input_path\"));\r\n    if (cell.getAttribute(\"output_path\"))\r\n        data[label].OutputPath = _utils__WEBPACK_IMPORTED_MODULE_0__[\"adjustJsonPath\"](cell.getAttribute(\"output_path\"));\r\n    var options = this.cst.DURATION_FORMAT;\r\n    for (var j in options) {\r\n        var key = _utils__WEBPACK_IMPORTED_MODULE_0__[\"camelToSnake\"](options[j]);\r\n        if (cell.getAttribute(key)) {\r\n            if (cell.getAttribute(key).match(/^\\d+/)) {\r\n                data[label][options[j]] = Number(cell.getAttribute(key));\r\n            }\r\n            else {\r\n                data[label][options[j]] = cell.getAttribute(key);\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    var existNextEdge = false;\r\n    for (var i in cell.edges) {\r\n        var edge = cell.edges[i];\r\n        if (edge.source != cell)\r\n            continue;\r\n        if (_utils__WEBPACK_IMPORTED_MODULE_0__[\"isNext\"](edge)) {\r\n            existNextEdge = true;\r\n            Object.assign(data[label], edge.awssf.expJSON(edge, cells));\r\n        }\r\n    }\r\n    if (existNextEdge == false || data[label].Next == 'End') {\r\n        delete data[label]['Next'];\r\n        data[label][\"End\"] = true;\r\n    }\r\n    return data;\r\n};\r\nWaitState.prototype.buildForm = function (form, attrName, attrValue) {\r\n    if (['label', 'comment', 'input_path', 'output_path'].indexOf(attrName) == -1) {\r\n        var tr = document.createElement('tr');\r\n        var td = document.createElement('td');\r\n        var select = document.createElement('select');\r\n        var options = this.cst.DURATION_FORMAT;\r\n        for (var j in options) {\r\n            var option = document.createElement('option');\r\n            mxUtils.writeln(option, options[j]);\r\n            option.setAttribute('value', _utils__WEBPACK_IMPORTED_MODULE_0__[\"camelToSnake\"](options[j]));\r\n            if (attrName == _utils__WEBPACK_IMPORTED_MODULE_0__[\"camelToSnake\"](options[j])) {\r\n                option.setAttribute('selected', 'true');\r\n            }\r\n            select.appendChild(option);\r\n        }\r\n        td.appendChild(select);\r\n        tr.appendChild(td);\r\n        td = document.createElement('td');\r\n        const input = document.createElement('textarea');\r\n        input.setAttribute('rows', '2');\r\n        input.style.width = '100%';\r\n        input.value = attrValue;\r\n        td.appendChild(input);\r\n        tr.appendChild(td);\r\n        form.body.appendChild(tr);\r\n        return [select, input];\r\n    }\r\n    else if (attrName != 'placeholders') {\r\n        const input = form.addTextarea(attrName + ':', attrValue, 2);\r\n        input.style.width = '100%';\r\n        return [attrName, input];\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\nWaitState.prototype.applyForm = function (value, name, text) {\r\n    var removeLabel = false;\r\n    if (text == null) {\r\n        value.removeAttribute(name);\r\n    }\r\n    else {\r\n        if (typeof (name) == 'object') {\r\n            for (var i in this.cst.DURATION_FORMAT) {\r\n                var n = _utils__WEBPACK_IMPORTED_MODULE_0__[\"camelToSnake\"](this.cst.DURATION_FORMAT[i]);\r\n                if (n == name.value) {\r\n                    value.setAttribute(name.value, text.value);\r\n                }\r\n                else {\r\n                    value.removeAttribute(n);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            value.setAttribute(name, text.value);\r\n        }\r\n        removeLabel = removeLabel || (name == 'placeholder' &&\r\n            value.getAttribute('placeholders') == '1');\r\n    }\r\n    return removeLabel;\r\n};\r\nObject(_helper__WEBPACK_IMPORTED_MODULE_1__[\"registCodec\"])('WaitState', WaitState);\r\nvar WaitStateHandler = function (state) {\r\n    this.custom = function () {\r\n        this.domNode.appendChild(NextEdge.prototype.createHandlerImage.apply(this, arguments));\r\n    };\r\n    _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"].apply(this, arguments);\r\n};\r\nWaitState.prototype.handler = WaitStateHandler;\r\nmxUtils.extend(WaitStateHandler, _helper__WEBPACK_IMPORTED_MODULE_1__[\"awssfStateHandler\"]);\r\n\n\n//# sourceURL=webpack:///./src/states/wait.ts?");

/***/ }),

/***/ "./src/style.css":
/*!***********************!*\
  !*** ./src/style.css ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var api = __webpack_require__(/*! ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--5-1!./style.css */ \"./node_modules/css-loader/dist/cjs.js?!./src/style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n//# sourceURL=webpack:///./src/style.css?");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/*! exports provided: init, linkStyle, _is, isAWSsf, isAWSconfig, isStart, isEnd, isParallelChild, isMapChild, isParallel, isMap, isTask, isWait, isNext, isStartAt, isRetry, isCatch, isChoice, isDefault, createHandlerImage, validateTimestamp, validateNumber, validateJson, validateJsonPath, validateCommonAttributes, snakeToCamel, camelToSnake, parseJSEPObject, parseJSEPValue, parseJSEPExpr, ruleToJSEP, adjustJsonPath, inCarlo, isSupproted, setupRoot, getStepFunctionDefinition, setupAWSconfig, getCallerIdentity, awsServiceParameters, getResourceList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"linkStyle\", function() { return linkStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_is\", function() { return _is; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isAWSsf\", function() { return isAWSsf; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isAWSconfig\", function() { return isAWSconfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isStart\", function() { return isStart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isEnd\", function() { return isEnd; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isParallelChild\", function() { return isParallelChild; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isMapChild\", function() { return isMapChild; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isParallel\", function() { return isParallel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isMap\", function() { return isMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isTask\", function() { return isTask; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isWait\", function() { return isWait; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNext\", function() { return isNext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isStartAt\", function() { return isStartAt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isRetry\", function() { return isRetry; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isCatch\", function() { return isCatch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isChoice\", function() { return isChoice; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDefault\", function() { return isDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createHandlerImage\", function() { return createHandlerImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateTimestamp\", function() { return validateTimestamp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateNumber\", function() { return validateNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateJson\", function() { return validateJson; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateJsonPath\", function() { return validateJsonPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"validateCommonAttributes\", function() { return validateCommonAttributes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"snakeToCamel\", function() { return snakeToCamel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"camelToSnake\", function() { return camelToSnake; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseJSEPObject\", function() { return parseJSEPObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseJSEPValue\", function() { return parseJSEPValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseJSEPExpr\", function() { return parseJSEPExpr; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ruleToJSEP\", function() { return ruleToJSEP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"adjustJsonPath\", function() { return adjustJsonPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inCarlo\", function() { return inCarlo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isSupproted\", function() { return isSupproted; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupRoot\", function() { return setupRoot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getStepFunctionDefinition\", function() { return getStepFunctionDefinition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setupAWSconfig\", function() { return setupAWSconfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCallerIdentity\", function() { return getCallerIdentity; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"awsServiceParameters\", function() { return awsServiceParameters; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourceList\", function() { return getResourceList; });\nlet ui;\r\nfunction init(editorUi) {\r\n    ui = editorUi;\r\n}\r\nfunction linkStyle(url) {\r\n    var linkElement = document.createElement('link');\r\n    linkElement.setAttribute('rel', 'stylesheet');\r\n    linkElement.setAttribute('href', url);\r\n    document.getElementsByTagName('head')[0].appendChild(linkElement);\r\n}\r\nfunction _is(cell, name) {\r\n    return (cell && cell.value && cell.value.getAttribute && (cell.value.getAttribute(\"type\") == `awssf${name}`));\r\n}\r\nfunction isAWSsf(cell) {\r\n    return (cell && (cell.awssf != null)) && (cell.value && cell.value.getAttribute && cell.value.getAttribute(\"type\") && cell.value.getAttribute(\"type\").indexOf(\"awssf\") == 0);\r\n}\r\nfunction isAWSconfig(cell) {\r\n    return _is(cell, 'AWSconfig');\r\n}\r\nfunction isStart(cell) {\r\n    return _is(cell, 'Start');\r\n}\r\nfunction isEnd(cell) {\r\n    return _is(cell, 'End');\r\n}\r\nfunction isParallelChild(cell) {\r\n    return (cell && cell.parent && cell.parent.awssf && _is(cell.parent, \"Parallel\"));\r\n}\r\nfunction isMapChild(cell) {\r\n    return (cell && cell.parent && cell.parent.awssf && _is(cell.parent, \"Map\"));\r\n}\r\nfunction isParallel(cell) {\r\n    return _is(cell, \"Parralel\");\r\n}\r\nfunction isMap(cell) {\r\n    return _is(cell, \"Map\");\r\n}\r\nfunction isTask(cell) {\r\n    return _is(cell, \"Task\");\r\n}\r\nfunction isWait(cell) {\r\n    return _is(cell, \"Wait\");\r\n}\r\nfunction isNext(cell) {\r\n    return _is(cell, \"Next\");\r\n}\r\nfunction isStartAt(cell) {\r\n    return _is(cell, \"StartAt\");\r\n}\r\nfunction isRetry(cell) {\r\n    return _is(cell, \"Retry\");\r\n}\r\nfunction isCatch(cell) {\r\n    return _is(cell, \"Catch\");\r\n}\r\nfunction isChoice(cell) {\r\n    return _is(cell, \"Choice\");\r\n}\r\nfunction isDefault(cell) {\r\n    return _is(cell, \"Default\");\r\n}\r\nfunction createHandlerImage(cls, src) {\r\n    var img = mxUtils.createImage(src);\r\n    img.setAttribute('title', cls.prototype.type);\r\n    img.style.cursor = 'pointer';\r\n    img.style.width = '16px';\r\n    img.style.height = '16px';\r\n    mxEvent.addGestureListeners(img, mxUtils.bind(this, function (evt) {\r\n        var pt = mxUtils.convertPoint(this.graph.container, mxEvent.getClientX(evt), mxEvent.getClientY(evt));\r\n        var edge = cls.prototype.create();\r\n        this.graph.connectionHandler.start(this.state, pt.x, pt.y, new mxCellState(this.graph.view, edge, this.graph.getCellStyle(edge)));\r\n        this.graph.isMouseDown = true;\r\n        this.graph.isMouseTrigger = mxEvent.isMouseEvent(evt);\r\n        mxEvent.consume(evt);\r\n    }));\r\n    return img;\r\n}\r\nfunction validateTimestamp(val) {\r\n    if (!val)\r\n        return null;\r\n    return !!(val.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(Z|[+-]\\d{2}:\\d{2})$/));\r\n}\r\nfunction validateNumber(val) {\r\n    if (!val)\r\n        return null;\r\n    return !!(val.match(/^\\d+$/));\r\n}\r\nfunction validateJson(val) {\r\n    if (!val)\r\n        return null;\r\n    try {\r\n        JSON.parse(val);\r\n        return true;\r\n    }\r\n    catch (error) {\r\n        return false;\r\n    }\r\n}\r\nfunction validateJsonPath(val) {\r\n    if (!val)\r\n        return null;\r\n    return !!(val.match(/^\\$/) && !val.match(/([@,:?[\\]]|\\.\\.)/)) || (val == \"null\");\r\n}\r\nfunction validateCommonAttributes(cell, res, checkResultPath) {\r\n    if (!res)\r\n        res = [];\r\n    if (validateJsonPath(cell.getAttribute(\"input_path\")) == false) {\r\n        res.push(\"input_path MUST use only supported jsonpath\");\r\n    }\r\n    if (validateJsonPath(cell.getAttribute(\"output_path\")) == false) {\r\n        res.push(\"output_path MUST use only supported jsonpath\");\r\n    }\r\n    if (checkResultPath && (validateJsonPath(cell.getAttribute(\"result_path\")) == false)) {\r\n        res.push(\"result_path MUST use only supported jsonpath or null\");\r\n    }\r\n    return res;\r\n}\r\nfunction snakeToCamel(p) {\r\n    p = p.charAt(0).toLowerCase() + p.slice(1);\r\n    return p.replace(/_./g, function (s) { return s.charAt(1).toUpperCase(); });\r\n}\r\nfunction camelToSnake(p) {\r\n    p = snakeToCamel(p);\r\n    return p.replace(/([A-Z])/g, function (s) { return '_' + s.charAt(0).toLowerCase(); });\r\n}\r\n// const ops = {\r\n//   \"==\": \"Equals\",\r\n//   \"<\": \"LessThan\",\r\n//   \">\": \"GreaterThan\",\r\n//   \"<=\": \"LessThanEquals\",\r\n//   \">=\": \"GreaterThanEquals\"\r\n// };\r\nvar ops;\r\n(function (ops) {\r\n    ops[\"==\"] = \"Equals\";\r\n    ops[\"<\"] = \"LessThan\";\r\n    ops[\">\"] = \"GreaterThan\";\r\n    ops[\"<=\"] = \"LessThanEquals\";\r\n    ops[\">=\"] = \"GreaterThanEquals\";\r\n})(ops || (ops = {}));\r\nfunction parseJSEPObject(obj, res) {\r\n    if (res == null)\r\n        res = [];\r\n    if (obj.type == 'MemberExpression') {\r\n        if (obj.computed) {\r\n            res.unshift('[' + parseJSEPObject(obj.property) + ']');\r\n        }\r\n        else {\r\n            res.unshift(parseJSEPObject(obj.property));\r\n        }\r\n        return parseJSEPObject(obj.object, res);\r\n    }\r\n    else if (obj.type == 'Identifier') {\r\n        res.unshift(obj.name);\r\n        return res.reduce((prev, cur) => {\r\n            if (cur[0] == '[') {\r\n                return prev + cur;\r\n            }\r\n            else {\r\n                return prev + \".\" + cur;\r\n            }\r\n        });\r\n    }\r\n    else if (obj.type == 'Literal') {\r\n        return obj.value;\r\n    }\r\n}\r\nfunction parseJSEPValue(obj) {\r\n    return obj.value;\r\n}\r\nfunction parseJSEPExpr(obj, res) {\r\n    if (res == null)\r\n        res = {};\r\n    if (obj.operator == '&&') {\r\n        Object.assign(res, { And: [parseJSEPExpr(obj.left), parseJSEPExpr(obj.right)] });\r\n    }\r\n    else if (obj.operator == '||') {\r\n        Object.assign(res, { Or: [parseJSEPExpr(obj.left), parseJSEPExpr(obj.right)] });\r\n    }\r\n    else if (obj.operator == '!') {\r\n        Object.assign(res, { Not: parseJSEPExpr(obj.argument) });\r\n    }\r\n    else if (ops[obj.operator]) {\r\n        var vartype;\r\n        var varname = parseJSEPObject(obj.left);\r\n        var val = parseJSEPValue(obj.right);\r\n        if (typeof (val) == \"number\") {\r\n            vartype = \"Numeric\";\r\n        }\r\n        else if (typeof (val) == \"string\") {\r\n            if (val.match(/^[\"'][\\d-]+T[\\d:]+Z[\"']$/)) {\r\n                vartype = \"Timestamp\";\r\n            }\r\n            else {\r\n                vartype = \"String\";\r\n            }\r\n        }\r\n        else if (typeof (val) == \"boolean\") {\r\n            vartype = \"Boolean\";\r\n        }\r\n        var tmp = {\r\n            Variable: varname\r\n        };\r\n        tmp[vartype + ops[obj.operator]] = val;\r\n        Object.assign(res, tmp);\r\n    }\r\n    return res;\r\n}\r\nfunction ruleToJSEP(choice) {\r\n    var variable = choice.Variable;\r\n    var ops = {\r\n        And: \"&&\",\r\n        Or: \"||\",\r\n        Equals: \"==\",\r\n        GreaterThan: \">\",\r\n        GreaterThanEquals: \">=\",\r\n        LessThan: \"<\",\r\n        LessThanEquals: \"<=\"\r\n    };\r\n    for (var key in choice) {\r\n        var value = choice[key];\r\n        if (key.match(/^(And|Or)$/)) {\r\n            return value.map(ch => \"(\" + ruleToJSEP(ch) + \")\").join(\" \" + ops[key] + \" \");\r\n        }\r\n        else if (key.match(/^(Not)$/)) {\r\n            return \"!(\" + ruleToJSEP(value) + \")\";\r\n        }\r\n        else {\r\n            const m = key.match(/^(Boolean|Numeric|String|Timestamp)(Equals|GreaterThan|GreaterThanEquals|LessThan|LessThanEquals)$/);\r\n            if (m) {\r\n                if (m[1].match(/(String|Timestamp)/i)) {\r\n                    return [variable, ops[m[2]], '\"' + value + '\"'].join(\" \");\r\n                }\r\n                else {\r\n                    return [variable, ops[m[2]], value].join(\" \");\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction adjustJsonPath(val) {\r\n    return (val === \"null\") ? null : val;\r\n}\r\nfunction inCarlo() {\r\n    return (typeof __updateAWSconfig !== \"undefined\") &&\r\n        (typeof __describeStateMachine !== \"undefined\") &&\r\n        (typeof __listStateMachines !== \"undefined\") &&\r\n        (typeof __deployStateMachine !== \"undefined\");\r\n}\r\nfunction isSupproted() {\r\n    return inCarlo();\r\n}\r\nfunction setupRoot() {\r\n    if (!ui.editor.graph.getModel().cells)\r\n        return;\r\n    var cell = ui.editor.graph.getModel().getRoot();\r\n    if (cell && (cell.value == null)) {\r\n        cell.value = mxUtils.createXmlDocument().createElement('object');\r\n        if (cell.getAttribute(\"type\") == null)\r\n            cell.setAttribute(\"type\", \"awssfRoot\");\r\n        if (cell.getAttribute(\"name\") == null)\r\n            cell.setAttribute(\"name\", \"\");\r\n        if (cell.getAttribute(\"comment\") == null)\r\n            cell.setAttribute(\"comment\", \"\");\r\n        if (cell.getAttribute(\"timeout_seconds\") == null)\r\n            cell.setAttribute(\"timeout_seconds\", \"\");\r\n        if (cell.getAttribute(\"version\") == null)\r\n            cell.setAttribute(\"version\", \"\");\r\n        if (cell.getAttribute(\"role_arn\") == null)\r\n            cell.setAttribute(\"role_arn\", \"\");\r\n        if (cell.getAttribute(\"state_machine_arn\") == null)\r\n            cell.setAttribute(\"state_machine_arn\", \"\");\r\n        cell.awssf = {};\r\n    }\r\n    return;\r\n}\r\nfunction getStepFunctionDefinition() {\r\n    var states = {};\r\n    var model = ui.editor.graph.getModel();\r\n    var startat = null;\r\n    for (var i in model.cells) {\r\n        var cell = model.cells[i];\r\n        if (!isAWSsf(cell))\r\n            continue;\r\n        if (isAWSconfig(cell))\r\n            continue;\r\n        if (isParallelChild(cell))\r\n            continue;\r\n        if (isMapChild(cell))\r\n            continue;\r\n        if (isStartAt(cell)) {\r\n            startat = model.cells[cell.target.id].getAttribute(\"label\");\r\n        }\r\n        if (isStart(cell) || isEnd(cell))\r\n            continue;\r\n        if (cell.isVertex()) {\r\n            Object.assign(states, cell.awssf.expJSON(cell, model.cells));\r\n        }\r\n    }\r\n    var root = model.getRoot();\r\n    var data = {};\r\n    if (root.getAttribute(\"comment\"))\r\n        data.Comment = root.getAttribute(\"comment\");\r\n    if (startat)\r\n        data.StartAt = startat;\r\n    data.States = states;\r\n    if (root.getAttribute(\"timeout_seconds\"))\r\n        data.TimeoutSeconds = Number(root.getAttribute(\"timeout_seconds\"));\r\n    if (root.getAttribute(\"version\"))\r\n        data.Version = root.getAttribute(\"version\");\r\n    return data;\r\n}\r\nfunction setupAWSconfig() {\r\n    var codec = new mxCodec();\r\n    var model = ui.editor.graph.getModel();\r\n    var node = codec.encode(model);\r\n    var found = mxUtils.findNode(node, \"type\", \"awssfAWSconfig\");\r\n    if (found == null) {\r\n        //mxUtils.alert(\"You need to put a AWSconfig.\")\r\n        return false;\r\n    }\r\n    var awsconfig = codec.decode(found);\r\n    var params = { accessKeyId: awsconfig.getAttribute('accessKeyId'), secretAccessKey: awsconfig.getAttribute('secretAccessKey'), region: awsconfig.getAttribute('region') };\r\n    AWS.config.update(params);\r\n    if (typeof __updateAWSconfig !== \"undefined\") {\r\n        __updateAWSconfig(params);\r\n    }\r\n    return true;\r\n}\r\nfunction getCallerIdentity(callback) {\r\n    var sts = new AWS.STS({ apiVersion: '2011-06-15' });\r\n    sts.getCallerIdentity({}, function (err, data) {\r\n        if (err)\r\n            console.log(err, err.stack); // an error occurred\r\n        else\r\n            callback(data);\r\n    });\r\n}\r\nconst awsServiceParameters = {\r\n    \"arn:aws:states:::lambda:invoke\": [\r\n        \"ClientContext\",\r\n        \"FunctionName\",\r\n        \"InvocationType\",\r\n        \"Qualifier\",\r\n        \"Payload\",\r\n    ],\r\n    \"arn:aws:states:::batch:submitJob\": [\r\n        \"ArrayProperties\",\r\n        \"ContainerOverrides\",\r\n        \"DependsOn\",\r\n        \"JobDefinition\",\r\n        \"JobName\",\r\n        \"JobQueue\",\r\n        \"Parameters\",\r\n        \"RetryStrategy\",\r\n        \"Timeout\"\r\n    ],\r\n    \"arn:aws:states:::dynamodb:getItem\": [\r\n        \"Key\",\r\n        \"TableName\",\r\n        \"AttributesToGet\",\r\n        \"ConsistentRead\",\r\n        \"ExpressionAttributeNames\",\r\n        \"ProjectionExpression\",\r\n        \"ReturnConsumedCapacity\",\r\n    ],\r\n    \"arn:aws:states:::dynamodb:putItem\": [\r\n        \"Item\",\r\n        \"TableName\",\r\n        \"ConditionalOperator\",\r\n        \"ConditionExpression\",\r\n        \"Expected\",\r\n        \"ExpressionAttributeNames\",\r\n        \"ExpressionAttributeValues\",\r\n        \"ReturnConsumedCapacity\",\r\n        \"ReturnItemCollectionMetrics\",\r\n        \"ReturnValues\"\r\n    ],\r\n    \"arn:aws:states:::dynamodb:deleteItem\": [\r\n        \"Key\",\r\n        \"TableName\",\r\n        \"ConditionalOperator\",\r\n        \"ConditionExpression\",\r\n        \"Expected\",\r\n        \"ExpressionAttributeNames\",\r\n        \"ExpressionAttributeValues\",\r\n        \"ReturnConsumedCapacity\",\r\n        \"ReturnItemCollectionMetrics\",\r\n        \"ReturnValues\",\r\n    ],\r\n    \"arn:aws:states:::dynamodb:updateItem\": [\r\n        \"Key\",\r\n        \"TableName\",\r\n        \"AttributeUpdates\",\r\n        \"ConditionalOperator\",\r\n        \"ConditionExpression\",\r\n        \"Expected\",\r\n        \"ExpressionAttributeNames\",\r\n        \"ExpressionAttributeValues\",\r\n        \"ReturnConsumedCapacity\",\r\n        \"ReturnItemCollectionMetrics\",\r\n        \"ReturnValues\",\r\n        \"UpdateExpression\"\r\n    ],\r\n    \"arn:aws:states:::ecs:runTask\": [\r\n        \"Cluster\",\r\n        \"Group\",\r\n        \"LaunchType\",\r\n        \"NetworkConfiguration\",\r\n        \"Overrides\",\r\n        \"PlacementConstraints\",\r\n        \"PlacementStrategy\",\r\n        \"PlatformVersion\",\r\n        \"TaskDefinition\"\r\n    ],\r\n    \"arn:aws:states:::sns:publish\": [\r\n        \"Message\",\r\n        \"MessageAttributes\",\r\n        \"MessageStructure\",\r\n        \"PhoneNumber\",\r\n        \"Subject\",\r\n        \"TargetArn\",\r\n        \"TopicArn\",\r\n    ],\r\n    \"arn:aws:states:::sqs:sendMessage\": [\r\n        \"DelaySeconds\",\r\n        \"MessageAttribute\",\r\n        \"MessageBody\",\r\n        \"MessageDeduplicationId\",\r\n        \"MessageGroupId\",\r\n        \"QueueUrl\"\r\n    ],\r\n    \"arn:aws:states:::glue:startJobRun\": [\r\n        \"JobName\",\r\n        \"JobRunId\",\r\n        \"Arguments\",\r\n        \"AllocatedCapacity\",\r\n        \"Timeout\",\r\n        \"SecurityConfiguration\",\r\n        \"NotificationProperty\"\r\n    ],\r\n    \"arn:aws:states:::states:startExecution\": [\r\n        \"input\",\r\n        \"name\",\r\n        \"stateMachineArn\"\r\n    ]\r\n};\r\nfunction getResourceList(callback) {\r\n    // https://docs.aws.amazon.com/step-functions/latest/dg/connect-supported-services.html\r\n    var funclist = [\r\n        \"arn:aws:states:::lambda:invoke\",\r\n        \"arn:aws:states:::lambda:invoke.waitForTaskToken\",\r\n        \"arn:aws:states:::batch:submitJob\",\r\n        \"arn:aws:states:::batch:submitJob.sync\",\r\n        \"arn:aws:states:::dynamodb:updateItem\",\r\n        \"arn:aws:states:::dynamodb:putItem\",\r\n        \"arn:aws:states:::dynamodb:getItem\",\r\n        \"arn:aws:states:::dynamodb:deleteItem\",\r\n        \"arn:aws:states:::ecs:runTask\",\r\n        \"arn:aws:states:::ecs:runTask.sync\",\r\n        \"arn:aws:states:::ecs:runTask.waitForTaskToken\",\r\n        \"arn:aws:states:::sns:publish\",\r\n        \"arn:aws:states:::sns:publish.waitForTaskToken\",\r\n        \"arn:aws:states:::sqs:sendMessage\",\r\n        \"arn:aws:states:::sqs:sendMessage.waitForTaskToken\",\r\n        \"arn:aws:states:::glue:startJobRun\",\r\n        \"arn:aws:states:::glue:startJobRun.sync\",\r\n        // https://docs.aws.amazon.com/step-functions/latest/dg/connect-sagemaker.html\r\n        \"arn:aws:states:::sagemaker:createEndpoint\",\r\n        \"arn:aws:states:::sagemaker:createEndpoint.sync\",\r\n        \"arn:aws:states:::sagemaker:createEndpointConfig\",\r\n        \"arn:aws:states:::sagemaker:createEndpointConfig.sync\",\r\n        \"arn:aws:states:::sagemaker:createHyperParameterTuningJob\",\r\n        \"arn:aws:states:::sagemaker:createHyperParameterTuningJob.sync\",\r\n        \"arn:aws:states:::sagemaker:createLabelingJob\",\r\n        \"arn:aws:states:::sagemaker:createLabelingJob.sync\",\r\n        \"arn:aws:states:::sagemaker:createModel\",\r\n        \"arn:aws:states:::sagemaker:createModel.sync\",\r\n        \"arn:aws:states:::sagemaker:createTrainingJob\",\r\n        \"arn:aws:states:::sagemaker:createTrainingJob.sync\",\r\n        \"arn:aws:states:::sagemaker:createTransformJob\",\r\n        \"arn:aws:states:::sagemaker:createTransformJob.sync\",\r\n        \"arn:aws:states:::sagemaker:updateEndpoint\",\r\n        \"arn:aws:states:::sagemaker:updateEndpoint.sync\",\r\n        // https://docs.aws.amazon.com/step-functions/latest/dg/connect-emr.html\r\n        \"arn:aws:states:::elasticmapreduce:createCluster\",\r\n        \"arn:aws:states:::elasticmapreduce:createCluster.sync\",\r\n        \"arn:aws:states:::elasticmapreduce:setClusterTerminationProtection\",\r\n        \"arn:aws:states:::elasticmapreduce:terminateCluster\",\r\n        \"arn:aws:states:::elasticmapreduce:terminateCluster.sync\",\r\n        \"arn:aws:states:::elasticmapreduce:addStep.sync\",\r\n        \"arn:aws:states:::elasticmapreduce:cancelStep\",\r\n        \"arn:aws:states:::elasticmapreduce:modifyInstanceFleetByName\",\r\n        \"arn:aws:states:::elasticmapreduce:modifyInstanceGroupByName\",\r\n        \"arn:aws:states:::states:startExecution\",\r\n        \"arn:aws:states:::states:startExecution.sync\",\r\n        \"arn:aws:states:::states:startExecution.waitForTaskToken\",\r\n    ];\r\n    if (!setupAWSconfig())\r\n        return callback(funclist);\r\n    // var stepfunctions = new AWS.StepFunctions({apiVersion: '2016-11-23'});\r\n    // stepfunctions.listActivities({}, function(err, data){\r\n    //   if (err) console.log(err, err.stack); // an error occurred\r\n    //   else{\r\n    //     for(var i in data.activities){\r\n    //       var act = data.activities[i];\r\n    //       funclist.push(func.activityArn);\r\n    //     }\r\n    //   };\r\n    var lambda = new AWS.Lambda({ apiVersion: '2015-03-31' });\r\n    lambda.listFunctions({}, function (err, data) {\r\n        if (err)\r\n            console.log(err, err.stack); // an error occurred\r\n        else {\r\n            for (var i in data.Functions) {\r\n                var func = data.Functions[i];\r\n                funclist.push(func.FunctionArn);\r\n            }\r\n            callback(funclist);\r\n        }\r\n    });\r\n    // });\r\n}\r\n\n\n//# sourceURL=webpack:///./src/utils.ts?");

/***/ })

/******/ });